(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Nf={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function bT(){if(gy)return Gl;gy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var py;function RT(){return py||(py=1,Nf.exports=bT()),Nf.exports}var At=RT(),Of={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function wT(){if(yy)return St;yy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function N(I){return I===null||typeof I!="object"?null:(I=D&&I[D]||I["@@iterator"],typeof I=="function"?I:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,tt={};function Z(I,$,nt){this.props=I,this.context=$,this.refs=tt,this.updater=nt||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},Z.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function yt(){}yt.prototype=Z.prototype;function lt(I,$,nt){this.props=I,this.context=$,this.refs=tt,this.updater=nt||j}var at=lt.prototype=new yt;at.constructor=lt,K(at,Z.prototype),at.isPureReactComponent=!0;var dt=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function M(I,$,nt,J,ht,wt){return nt=wt.ref,{$$typeof:s,type:I,key:$,ref:nt!==void 0?nt:null,props:wt}}function S(I,$){return M(I.type,$,void 0,void 0,void 0,I.props)}function C(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function O(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(nt){return $[nt]})}var x=/\/+/g;function w(I,$){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):$.toString(36)}function R(){}function se(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(R,R):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Ft(I,$,nt,J,ht){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var vt=!1;if(I===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(I.$$typeof){case s:case e:vt=!0;break;case A:return vt=I._init,Ft(vt(I._payload),$,nt,J,ht)}}if(vt)return ht=ht(I),vt=J===""?"."+w(I,0):J,dt(ht)?(nt="",vt!=null&&(nt=vt.replace(x,"$&/")+"/"),Ft(ht,$,nt,"",function(kn){return kn})):ht!=null&&(C(ht)&&(ht=S(ht,nt+(ht.key==null||I&&I.key===ht.key?"":(""+ht.key).replace(x,"$&/")+"/")+vt)),$.push(ht)),1;vt=0;var De=J===""?".":J+":";if(dt(I))for(var $t=0;$t<I.length;$t++)J=I[$t],wt=De+w(J,$t),vt+=Ft(J,$,nt,wt,ht);else if($t=N(I),typeof $t=="function")for(I=$t.call(I),$t=0;!(J=I.next()).done;)J=J.value,wt=De+w(J,$t++),vt+=Ft(J,$,nt,wt,ht);else if(wt==="object"){if(typeof I.then=="function")return Ft(se(I),$,nt,J,ht);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(I,$,nt){if(I==null)return I;var J=[],ht=0;return Ft(I,J,"","",function(wt){return $.call(nt,wt,ht++)}),J}function et(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(nt){(I._status===0||I._status===-1)&&(I._status=1,I._result=nt)},function(nt){(I._status===0||I._status===-1)&&(I._status=2,I._result=nt)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var ut=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function zt(){}return St.Children={map:H,forEach:function(I,$,nt){H(I,function(){$.apply(this,arguments)},nt)},count:function(I){var $=0;return H(I,function(){$++}),$},toArray:function(I){return H(I,function($){return $})||[]},only:function(I){if(!C(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},St.Component=Z,St.Fragment=i,St.Profiler=o,St.PureComponent=lt,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,St.__COMPILER_RUNTIME={__proto__:null,c:function(I){return gt.H.useMemoCache(I)}},St.cache=function(I){return function(){return I.apply(null,arguments)}},St.cloneElement=function(I,$,nt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var J=K({},I.props),ht=I.key,wt=void 0;if($!=null)for(vt in $.ref!==void 0&&(wt=void 0),$.key!==void 0&&(ht=""+$.key),$)!Dt.call($,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&$.ref===void 0||(J[vt]=$[vt]);var vt=arguments.length-2;if(vt===1)J.children=nt;else if(1<vt){for(var De=Array(vt),$t=0;$t<vt;$t++)De[$t]=arguments[$t+2];J.children=De}return M(I.type,ht,void 0,void 0,wt,J)},St.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},St.createElement=function(I,$,nt){var J,ht={},wt=null;if($!=null)for(J in $.key!==void 0&&(wt=""+$.key),$)Dt.call($,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ht[J]=$[J]);var vt=arguments.length-2;if(vt===1)ht.children=nt;else if(1<vt){for(var De=Array(vt),$t=0;$t<vt;$t++)De[$t]=arguments[$t+2];ht.children=De}if(I&&I.defaultProps)for(J in vt=I.defaultProps,vt)ht[J]===void 0&&(ht[J]=vt[J]);return M(I,wt,void 0,void 0,null,ht)},St.createRef=function(){return{current:null}},St.forwardRef=function(I){return{$$typeof:g,render:I}},St.isValidElement=C,St.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:et}},St.memo=function(I,$){return{$$typeof:v,type:I,compare:$===void 0?null:$}},St.startTransition=function(I){var $=gt.T,nt={};gt.T=nt;try{var J=I(),ht=gt.S;ht!==null&&ht(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(zt,ut)}catch(wt){ut(wt)}finally{gt.T=$}},St.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},St.use=function(I){return gt.H.use(I)},St.useActionState=function(I,$,nt){return gt.H.useActionState(I,$,nt)},St.useCallback=function(I,$){return gt.H.useCallback(I,$)},St.useContext=function(I){return gt.H.useContext(I)},St.useDebugValue=function(){},St.useDeferredValue=function(I,$){return gt.H.useDeferredValue(I,$)},St.useEffect=function(I,$,nt){var J=gt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(I,$)},St.useId=function(){return gt.H.useId()},St.useImperativeHandle=function(I,$,nt){return gt.H.useImperativeHandle(I,$,nt)},St.useInsertionEffect=function(I,$){return gt.H.useInsertionEffect(I,$)},St.useLayoutEffect=function(I,$){return gt.H.useLayoutEffect(I,$)},St.useMemo=function(I,$){return gt.H.useMemo(I,$)},St.useOptimistic=function(I,$){return gt.H.useOptimistic(I,$)},St.useReducer=function(I,$,nt){return gt.H.useReducer(I,$,nt)},St.useRef=function(I){return gt.H.useRef(I)},St.useState=function(I){return gt.H.useState(I)},St.useSyncExternalStore=function(I,$,nt){return gt.H.useSyncExternalStore(I,$,nt)},St.useTransition=function(){return gt.H.useTransition()},St.version="19.1.0",St}var _y;function pd(){return _y||(_y=1,Of.exports=wT()),Of.exports}var In=pd(),Mf={exports:{}},Fl={},xf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function CT(){return vy||(vy=1,function(s){function e(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var zt=ut-1>>>1,I=H[zt];if(0<o(I,et))H[zt]=et,H[ut]=I,ut=zt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var zt=0,I=H.length,$=I>>>1;zt<$;){var nt=2*(zt+1)-1,J=H[nt],ht=nt+1,wt=H[ht];if(0>o(J,ut))ht<I&&0>o(wt,J)?(H[zt]=wt,H[ht]=ut,zt=ht):(H[zt]=J,H[nt]=ut,zt=nt);else if(ht<I&&0>o(wt,ut))H[zt]=wt,H[ht]=ut,zt=ht;else break t}}return et}function o(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,D=null,N=3,j=!1,K=!1,tt=!1,Z=!1,yt=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function dt(H){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=H)a(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function gt(H){if(tt=!1,dt(H),!K)if(i(_)!==null)K=!0,Dt||(Dt=!0,w());else{var et=i(v);et!==null&&Ft(gt,et.startTime-H)}}var Dt=!1,M=-1,S=5,C=-1;function O(){return Z?!0:!(s.unstable_now()-C<S)}function x(){if(Z=!1,Dt){var H=s.unstable_now();C=H;var et=!0;try{t:{K=!1,tt&&(tt=!1,lt(M),M=-1),j=!0;var ut=N;try{e:{for(dt(H),D=i(_);D!==null&&!(D.expirationTime>H&&O());){var zt=D.callback;if(typeof zt=="function"){D.callback=null,N=D.priorityLevel;var I=zt(D.expirationTime<=H);if(H=s.unstable_now(),typeof I=="function"){D.callback=I,dt(H),et=!0;break e}D===i(_)&&a(_),dt(H)}else a(_);D=i(_)}if(D!==null)et=!0;else{var $=i(v);$!==null&&Ft(gt,$.startTime-H),et=!1}}break t}finally{D=null,N=ut,j=!1}et=void 0}}finally{et?w():Dt=!1}}}var w;if(typeof at=="function")w=function(){at(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=x,w=function(){se.postMessage(null)}}else w=function(){yt(x,0)};function Ft(H,et){M=yt(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(H){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var ut=N;N=et;try{return H()}finally{N=ut}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=N;N=H;try{return et()}finally{N=ut}},s.unstable_scheduleCallback=function(H,et,ut){var zt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?zt+ut:zt):ut=zt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ut+I,H={id:A++,callback:et,priorityLevel:H,startTime:ut,expirationTime:I,sortIndex:-1},ut>zt?(H.sortIndex=ut,e(v,H),i(_)===null&&H===i(v)&&(tt?(lt(M),M=-1):tt=!0,Ft(gt,ut-zt))):(H.sortIndex=I,e(_,H),K||j||(K=!0,Dt||(Dt=!0,w()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var et=N;return function(){var ut=N;N=et;try{return H.apply(this,arguments)}finally{N=ut}}}}(Uf)),Uf}var Ey;function DT(){return Ey||(Ey=1,xf.exports=CT()),xf.exports}var Lf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function IT(){if(Ty)return Qe;Ty=1;var s=pd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:D==null?null:""+D,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Qe.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},Qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Qe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:N,fetchPriority:j}):A==="script"&&a.d.X(_,{crossOrigin:D,integrity:N,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Qe.requestFormReset=function(_){a.d.r(_)},Qe.unstable_batchedUpdates=function(_,v){return _(v)},Qe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var Ay;function VT(){if(Ay)return Lf.exports;Ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lf.exports=IT(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function NT(){if(Sy)return Fl;Sy=1;var s=DT(),e=pd(),i=VT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),yt=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),at=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function w(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case Z:return"Profiler";case tt:return"StrictMode";case gt:return"Suspense";case Dt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case at:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case dt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:se(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return se(t(n))}catch{}}return null}var Ft=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},zt=[],I=-1;function $(t){return{current:t}}function nt(t){0>I||(t.current=zt[I],zt[I]=null,I--)}function J(t,n){I++,zt[I]=t.current,t.current=n}var ht=$(null),wt=$(null),vt=$(null),De=$(null);function $t(t,n){switch(J(vt,n),J(wt,t),J(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Hp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Hp(n),t=Gp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ht),J(ht,t)}function kn(){nt(ht),nt(wt),nt(vt)}function qi(t){t.memoizedState!==null&&J(De,t);var n=ht.current,r=Gp(n,t.type);n!==r&&(J(wt,t),J(ht,r))}function hi(t){wt.current===t&&(nt(ht),nt(wt)),De.current===t&&(nt(De),Bl._currentValue=ut)}var Nr=Object.prototype.hasOwnProperty,Or=s.unstable_scheduleCallback,Mr=s.unstable_cancelCallback,La=s.unstable_shouldYield,vo=s.unstable_requestPaint,pn=s.unstable_now,Vc=s.unstable_getCurrentPriorityLevel,Pa=s.unstable_ImmediatePriority,ws=s.unstable_UserBlockingPriority,xr=s.unstable_NormalPriority,Nc=s.unstable_LowPriority,Cs=s.unstable_IdlePriority,za=s.log,Eo=s.unstable_setDisableYieldValue,ae=null,jt=null;function an(t){if(typeof za=="function"&&Eo(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var Ge=Math.clz32?Math.clz32:Ur,To=Math.log,Oc=Math.LN2;function Ur(t){return t>>>=0,t===0?32:31-(To(t)/Oc|0)|0}var Lr=256,Pr=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ds(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=On(l):(y&=E,y!==0?c=On(y):r||(r=E&~t,r!==0&&(c=On(r))))):(E=l&~f,E!==0?c=On(E):y!==0?c=On(y):r||(r=l&~t,r!==0&&(c=On(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function zr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ba(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),t}function qa(){var t=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),t}function fi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function di(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ja(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-Ge(r),Y=1<<G;E[G]=0,b[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}r&=~Y}l!==0&&qn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function qn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ha(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ge(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Is(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:uy(t.type))}function Ao(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var ee=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ee,ge="__reactProps$"+ee,yn="__reactContainer$"+ee,Ga="__reactEvents$"+ee,Mc="__reactListeners$"+ee,Gi="__reactHandles$"+ee,So="__reactResources$"+ee,Br="__reactMarker$"+ee;function Fi(t){delete t[Ae],delete t[ge],delete t[Ga],delete t[Mc],delete t[Gi]}function mi(t){var n=t[Ae];if(n)return n;for(var r=t.parentNode;r;){if(n=r[yn]||r[Ae]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Xp(t);t!==null;){if(r=t[Ae])return r;t=Xp(t)}return n}t=r,r=t.parentNode}return null}function jn(t){if(t=t[Ae]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ze(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[Br]=!0}var Fa=new Set,Vs={};function Mn(t,n){gi(t,n),gi(t+"Capture",n)}function gi(t,n){for(Vs[t]=n,t=0;t<n.length;t++)Fa.add(n[t])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},kr={};function wo(t){return Nr.call(kr,t)?!0:Nr.call(Ro,t)?!1:bo.test(t)?kr[t]=!0:(Ro[t]=!0,!1)}function Qi(t,n,r){if(wo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Gn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Le(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var qr,Co;function pi(t){if(qr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);qr=n&&n[1]||"",Co=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+t+Co}var Ns=!1;function Os(t,n){if(!t||Ns)return"";Ns=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),z=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===z.length)for(l=b.length-1,c=z.length-1;1<=l&&0<=c&&b[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==z[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Ns=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?pi(r):""}function Qa(t){switch(t.tag){case 26:case 27:case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Os(t.type,!1);case 11:return Os(t.type.render,!1);case 1:return Os(t.type,!0);case 31:return pi("Activity");default:return""}}function Ms(t){try{var n="";do n+=Qa(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ya(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xc(t){var n=Ya(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xs(t){t._valueTracker||(t._valueTracker=xc(t))}function Xa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ya(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function jr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Uc=/[\n"\\]/g;function pe(t){return t.replace(Uc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Yi(t,y,$e(n)):r!=null?Yi(t,y,$e(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function Hr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Yi(t,n,r){n==="number"&&jr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function yi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function Gr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Ft(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Fr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ka(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Do(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Do(t,f,n[f])}function Za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(t){return Pc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _i=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,Ei=null;function $a(t){var n=jn(t);if(n&&(t=n.stateNode)){var r=t[ge]||null;t:switch(t=n.stateNode,n.type){case"input":if(ln(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ge]||null;if(!c)throw Error(a(90));ln(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Xa(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&yi(t,!!r.multiple,n,!1)}}}var Fn=!1;function Io(t,n,r){if(Fn)return t(n,r);Fn=!0;try{var l=t(n);return l}finally{if(Fn=!1,(vi!==null||Ei!==null)&&(Au(),vi&&(n=vi,t=Ei,Ei=vi=null,$a(n),t)))for(n=0;n<t.length;n++)$a(t[n])}}function Qr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ge]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(xn)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){En=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{En=!1}var Qn=null,Xi=null,Ti=null;function Ja(){if(Ti)return Ti;var t,n=Xi,r=n.length,l,c="value"in Qn?Qn.value:Qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return Ti=c.slice(t,1<l?1-l:void 0)}function Yn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function Wa(){return!1}function Ie(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:Wa,this.isPropagationStopped=Wa,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Ie(kt),Xr=A({},kt,{view:0,detail:0}),Vo=Ie(Xr),Ps,zs,Kn,Kr=A({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Ps=t.screenX-Kn.screenX,zs=t.screenY-Kn.screenY):zs=Ps=0,Kn=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:zs}}),Tn=Ie(Kr),No=A({},Kr,{dataTransfer:0}),zc=Ie(No),Zr=A({},Xr,{relatedTarget:0}),Bs=Ie(Zr),tl=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=Ie(tl),Oo=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qs=Ie(Oo),Bc=A({},kt,{data:0}),el=Ie(Bc),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xo[t])?!!n[t]:!1}function Jr(){return nl}var Uo=A({},Xr,{key:function(t){if(t.key){var n=$r[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),js=Ie(Uo),Lo=A({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Ie(Lo),Ai=A({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Po=Ie(Ai),zo=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bo=Ie(zo),ko=A({},Kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hs=Ie(ko),Je=A({},kt,{newState:0,oldState:0}),qo=Ie(Je),jo=[9,13,27,32],Zn=xn&&"CompositionEvent"in window,u=null;xn&&"documentMode"in document&&(u=document.documentMode);var m=xn&&"TextEvent"in window&&!u,p=xn&&(!Zn||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return jo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Se(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Zn&&q(t,n)?(t=Ja(),Ti=Xi=Qn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function Si(t,n,r,l){vi?Ei?Ei.push(l):Ei=[l]:vi=l,n=Du(n,"onChange"),0<n.length&&(r=new Ls("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Pe=null,$n=null;function rl(t){zp(t,0)}function Ho(t){var n=Hn(t);if(Xa(n))return t}function sm(t,n){if(t==="change")return n}var am=!1;if(xn){var kc;if(xn){var qc="oninput"in document;if(!qc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),qc=typeof lm.oninput=="function"}kc=qc}else kc=!1;am=kc&&(!document.documentMode||9<document.documentMode)}function om(){Pe&&(Pe.detachEvent("onpropertychange",um),$n=Pe=null)}function um(t){if(t.propertyName==="value"&&Ho($n)){var n=[];Si(n,$n,t,vn(t)),Io(rl,n)}}function tE(t,n,r){t==="focusin"?(om(),Pe=n,$n=r,Pe.attachEvent("onpropertychange",um)):t==="focusout"&&om()}function eE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho($n)}function nE(t,n){if(t==="click")return Ho(n)}function iE(t,n){if(t==="input"||t==="change")return Ho(n)}function rE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:rE;function sl(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Nr.call(n,c)||!on(t[c],n[c]))return!1}return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,n){var r=cm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cm(r)}}function fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=jr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=jr(t.document)}return n}function jc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var sE=xn&&"documentMode"in document&&11>=document.documentMode,Gs=null,Hc=null,al=null,Gc=!1;function mm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gc||Gs==null||Gs!==jr(l)||(l=Gs,"selectionStart"in l&&jc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Du(Hc,"onSelect"),0<l.length&&(n=new Ls("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Gs)))}function Wr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Fs={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},Fc={},gm={};xn&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function ts(t){if(Fc[t])return Fc[t];if(!Fs[t])return t;var n=Fs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in gm)return Fc[t]=n[r];return t}var pm=ts("animationend"),ym=ts("animationiteration"),_m=ts("animationstart"),aE=ts("transitionrun"),lE=ts("transitionstart"),oE=ts("transitioncancel"),vm=ts("transitionend"),Em=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Un(t,n){Em.set(t,n),Mn(n,[t])}var Tm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=Tm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ms(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:Ms(n)}}var Sn=[],Qs=0,Yc=0;function Go(){for(var t=Qs,n=Yc=Qs=0;n<t;){var r=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Am(r,c,f)}}function Fo(t,n,r,l){Sn[Qs++]=t,Sn[Qs++]=n,Sn[Qs++]=r,Sn[Qs++]=l,Yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xc(t,n,r,l){return Fo(t,n,r,l),Qo(t)}function Ys(t,n){return Fo(t,null,null,n),Qo(t)}function Am(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ge(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Qo(t){if(50<Nl)throw Nl=0,tf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Xs={};function uE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new uE(t,n,r,l)}function Kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Sm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Kc(t)&&(y=1);else if(typeof t=="string")y=hT(t,r,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=un(31,r,n,c),t.elementType=C,t.lanes=f,t;case K:return es(r.children,c,f,n);case tt:y=8,c|=24;break;case Z:return t=un(12,r,n,c|2),t.elementType=Z,t.lanes=f,t;case gt:return t=un(13,r,n,c),t.elementType=gt,t.lanes=f,t;case Dt:return t=un(19,r,n,c),t.elementType=Dt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yt:case at:y=10;break t;case lt:y=9;break t;case dt:y=11;break t;case M:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=un(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function es(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function Zc(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function $c(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ks=[],Zs=0,Xo=null,Ko=0,bn=[],Rn=0,ns=null,Ri=1,wi="";function is(t,n){Ks[Zs++]=Ko,Ks[Zs++]=Xo,Xo=t,Ko=n}function bm(t,n,r){bn[Rn++]=Ri,bn[Rn++]=wi,bn[Rn++]=ns,ns=t;var l=Ri;t=wi;var c=32-Ge(l)-1;l&=~(1<<c),r+=1;var f=32-Ge(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ri=1<<32-Ge(n)+c|r<<c|l,wi=f+t}else Ri=1<<f|r<<c|l,wi=t}function Jc(t){t.return!==null&&(is(t,1),bm(t,1,0))}function Wc(t){for(;t===Xo;)Xo=Ks[--Zs],Ks[Zs]=null,Ko=Ks[--Zs],Ks[Zs]=null;for(;t===ns;)ns=bn[--Rn],bn[Rn]=null,wi=bn[--Rn],bn[Rn]=null,Ri=bn[--Rn],bn[Rn]=null}var We=null,le=null,Bt=!1,rs=null,Jn=!1,th=Error(a(519));function ss(t){var n=Error(a(418,""));throw ul(An(n,t)),th}function Rm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ae]=t,n[ge]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Ml.length;r++)Vt(Ml[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Hr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xs(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Gr(n,l.value,l.defaultValue,l.children),xs(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||jp(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Iu),n=!0):n=!1,n||ss(t)}function wm(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:We=We.return}}function ll(t){if(t!==We)return!1;if(!Bt)return wm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yf(t.type,t.memoizedProps)),r=!r),r&&le&&ss(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=Pn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,cr(t.type)?(t=Tf,Tf=null,le=t):le=n):le=We?Pn(t.stateNode.nextSibling):null;return!0}function ol(){le=We=null,Bt=!1}function Cm(){var t=rs;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),rs=null),t}function ul(t){rs===null?rs=[t]:rs.push(t)}var eh=$(null),as=null,Ci=null;function Ki(t,n,r){J(eh,n._currentValue),n._currentValue=r}function Di(t){t._currentValue=eh.current,nt(eh)}function nh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ih(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),nh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),nh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;on(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===De.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&ih(n,t,r,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ls(t){as=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Dm(as,t)}function $o(t,n){return as===null&&ls(t),Dm(t,n)}function Dm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ci===null){if(t===null)throw Error(a(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return r}var cE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},hE=s.unstable_scheduleCallback,fE=s.unstable_NormalPriority,Re={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rh(){return{controller:new cE,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&hE(fE,function(){t.controller.abort()})}var fl=null,sh=0,$s=0,Js=null;function dE(t,n){if(fl===null){var r=fl=[];sh=0,$s=of(),Js={status:"pending",value:void 0,then:function(l){r.push(l)}}}return sh++,n.then(Im,Im),n}function Im(){if(--sh===0&&fl!==null){Js!==null&&(Js.status="fulfilled");var t=fl;fl=null,$s=0,Js=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function mE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Vm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&dE(t,n),Vm!==null&&Vm(t,n)};var os=$(null);function ah(){var t=os.current;return t!==null?t:Jt.pooledCache}function Jo(t,n){n===null?J(os,os.current):J(os,n.pool)}function Nm(){var t=ah();return t===null?null:{parent:Re._currentValue,pool:t}}var dl=Error(a(460)),Om=Error(a(474)),Wo=Error(a(542)),lh={then:function(){}};function Mm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tu(){}function xm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(tu,tu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t;default:if(typeof n.status=="string")n.then(tu,tu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t}throw ml=n,dl}}var ml=null;function Um(){if(ml===null)throw Error(a(459));var t=ml;return ml=null,t}function Lm(t){if(t===dl||t===Wo)throw Error(a(483))}var Zi=!1;function oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Qo(t),Am(t,null,r),n}return Fo(t,l,n,r),Qo(t)}function gl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ha(t,r)}}function ch(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var hh=!1;function pl(){if(hh){var t=Js;if(t!==null)throw t}}function yl(t,n,r,l){hh=!1;var c=t.updateQueue;Zi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,z=b.next;b.next=null,y===null?f=z:y.next=z,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,G=z=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(xt&B)===B:(l&B)===B){B!==0&&B===$s&&(hh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,ft=E;B=n;var Kt=r;switch(ft.tag){case 1:if(_t=ft.payload,typeof _t=="function"){Y=_t.call(Kt,Y,B);break t}Y=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=ft.payload,B=typeof _t=="function"?_t.call(Kt,Y,B):_t,B==null)break t;Y=A({},Y,B);break t;case 2:Zi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=k,b=Y):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ar|=y,t.lanes=y,t.memoizedState=Y}}function Pm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function zm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Pm(r[t],n)}var Ws=$(null),eu=$(0);function Bm(t,n){t=Ui,J(eu,t),J(Ws,n),Ui=t|n.baseLanes}function fh(){J(eu,Ui),J(Ws,Ws.current)}function dh(){Ui=eu.current,nt(Ws),nt(eu)}var Wi=0,bt=null,Yt=null,ye=null,nu=!1,ta=!1,us=!1,iu=0,_l=0,ea=null,gE=0;function fe(){throw Error(a(321))}function mh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!on(t[r],n[r]))return!1;return!0}function gh(t,n,r,l,c,f){return Wi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Ag:Sg,us=!1,f=r(l,c),us=!1,ta&&(f=qm(n,r,l,c)),km(t),f}function km(t){H.H=uu;var n=Yt!==null&&Yt.next!==null;if(Wi=0,ye=Yt=bt=null,nu=!1,_l=0,ea=null,n)throw Error(a(300));t===null||Ne||(t=t.dependencies,t!==null&&Zo(t)&&(Ne=!0))}function qm(t,n,r,l){bt=t;var c=0;do{if(ta&&(ea=null),_l=0,ta=!1,25<=c)throw Error(a(301));if(c+=1,ye=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=AE,f=n(r,l)}while(ta);return f}function pE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(bt.flags|=1024),n}function ph(){var t=iu!==0;return iu=0,t}function yh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function _h(t){if(nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}nu=!1}Wi=0,ye=Yt=bt=null,ta=!1,_l=iu=0,ea=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?bt.memoizedState=ye=t:ye=ye.next=t,ye}function _e(){if(Yt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=ye===null?bt.memoizedState:ye.next;if(n!==null)ye=n,Yt=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ye===null?bt.memoizedState=ye=t:ye=ye.next=t}return ye}function vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=_l;return _l+=1,ea===null&&(ea=[]),t=xm(ea,t,n),n=bt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ag:Sg),t}function ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===at)return Fe(t)}throw Error(a(438,String(t)))}function Eh(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=vh(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Ii(t,n){return typeof n=="function"?n(t):n}function su(t){var n=_e();return Th(n,Yt,t)}function Th(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(xt&Y)===Y:(Wi&Y)===Y){var B=z.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===$s&&(G=!0);else if((Wi&B)===B){z=z.next,B===$s&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,bt.lanes|=B,ar|=B;Y=z.action,us&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else B={lane:Y,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,bt.lanes|=Y,ar|=Y;z=z.next}while(z!==null&&z!==n);if(b===null?y=f:b.next=E,!on(f,t.memoizedState)&&(Ne=!0,G&&(r=Js,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ah(t){var n=_e(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);on(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function jm(t,n,r){var l=bt,c=_e(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!on((Yt||c).memoizedState,r);y&&(c.memoizedState=r,Ne=!0),c=c.queue;var E=Fm.bind(null,l,c,t);if(El(2048,8,E,[t]),c.getSnapshot!==n||y||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,na(9,au(),Gm.bind(null,l,c,r,n),null),Jt===null)throw Error(a(349));f||(Wi&124)!==0||Hm(l,n,r)}return r}function Hm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=vh(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Gm(t,n,r,l){n.value=r,n.getSnapshot=l,Qm(n)&&Ym(t)}function Fm(t,n,r){return r(function(){Qm(n)&&Ym(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!on(t,r)}catch{return!0}}function Ym(t){var n=Ys(t,2);n!==null&&mn(n,t,2)}function Sh(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),us){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function Xm(t,n,r,l){return t.baseState=r,Th(t,Yt,typeof l=="function"?l:Ii)}function yE(t,n,r,l,c){if(ou(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Km(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Km(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Zm(t,n,E)}catch(z){bh(t,n,z)}finally{H.T=f}}else try{f=r(c,l),Zm(t,n,f)}catch(z){bh(t,n,z)}}function Zm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){$m(t,n,l)},function(l){return bh(t,n,l)}):$m(t,n,r)}function $m(t,n,r){n.status="fulfilled",n.value=r,Jm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Km(t,r)))}function bh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Jm(n),n=n.next;while(n!==l)}t.action=null}function Jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Wm(t,n){return n}function tg(t,n){if(Bt){var r=Jt.formState;if(r!==null){t:{var l=bt;if(Bt){if(le){e:{for(var c=le,f=Jn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Pn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Pn(c.nextSibling),l=c.data==="F!";break t}}ss(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:n},r.queue=l,r=vg.bind(null,bt,l),l.dispatch=r,l=Sh(!1),f=Ih.bind(null,bt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=yE.bind(null,bt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function eg(t){var n=_e();return ng(n,Yt,t)}function ng(t,n,r){if(n=Th(t,n,Wm)[0],t=su(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=vl(n)}catch(y){throw y===dl?Wo:y}else l=n;n=_e();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,na(9,au(),_E.bind(null,c,r),null)),[l,f,t]}function _E(t,n){t.action=n}function ig(t){var n=_e(),r=Yt;if(r!==null)return ng(n,r,t);_e(),n=n.memoizedState,r=_e();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function na(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=vh(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function au(){return{destroy:void 0,resource:void 0}}function rg(){return _e().memoizedState}function lu(t,n,r,l){var c=en();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=na(1|n,au(),r,l)}function El(t,n,r,l){var c=_e();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&mh(l,Yt.memoizedState.deps)?c.memoizedState=na(n,f,r,l):(bt.flags|=t,c.memoizedState=na(1|n,f,r,l))}function sg(t,n){lu(8390656,8,t,n)}function ag(t,n){El(2048,8,t,n)}function lg(t,n){return El(4,2,t,n)}function og(t,n){return El(4,4,t,n)}function ug(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cg(t,n,r){r=r!=null?r.concat([t]):null,El(4,4,ug.bind(null,n,t),r)}function Rh(){}function hg(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&mh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function fg(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&mh(n,l[1]))return l[0];if(l=t(),us){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function wh(t,n,r){return r===void 0||(Wi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=gp(),bt.lanes|=t,ar|=t,r)}function dg(t,n,r,l){return on(r,n)?r:Ws.current!==null?(t=wh(t,r,l),on(t,n)||(Ne=!0),t):(Wi&42)===0?(Ne=!0,t.memoizedState=r):(t=gp(),bt.lanes|=t,ar|=t,n)}function mg(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Ih(t,!1,n,r);try{var b=c(),z=H.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=mE(b,l);Tl(t,n,G,dn(t))}else Tl(t,n,l,dn(t))}catch(Y){Tl(t,n,{then:function(){},status:"rejected",reason:Y},dn())}finally{et.p=f,H.T=y}}function vE(){}function Ch(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=gg(t).queue;mg(t,c,n,ut,r===null?vE:function(){return pg(t),r(l)})}function gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pg(t){var n=gg(t).next.queue;Tl(t,n,{},dn())}function Dh(){return Fe(Bl)}function yg(){return _e().memoizedState}function _g(){return _e().memoizedState}function EE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=dn();t=$i(r);var l=Ji(n,t,r);l!==null&&(mn(l,n,r),gl(l,n,r)),n={cache:rh()},t.payload=n;return}n=n.return}}function TE(t,n,r){var l=dn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ou(t)?Eg(n,r):(r=Xc(t,n,r,l),r!==null&&(mn(r,t,l),Tg(r,n,l)))}function vg(t,n,r){var l=dn();Tl(t,n,r,l)}function Tl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ou(t))Eg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,on(E,y))return Fo(t,n,c,0),Jt===null&&Go(),!1}catch{}finally{}if(r=Xc(t,n,c,l),r!==null)return mn(r,t,l),Tg(r,n,l),!0}return!1}function Ih(t,n,r,l){if(l={lane:2,revertLane:of(),action:l,hasEagerState:!1,eagerState:null,next:null},ou(t)){if(n)throw Error(a(479))}else n=Xc(t,r,l,2),n!==null&&mn(n,t,2)}function ou(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Eg(t,n){ta=nu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Tg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ha(t,r)}}var uu={readContext:Fe,use:ru,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},Ag={readContext:Fe,use:ru,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Fe,useEffect:sg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,lu(4194308,4,ug.bind(null,n,t),r)},useLayoutEffect:function(t,n){return lu(4194308,4,t,n)},useInsertionEffect:function(t,n){lu(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(us){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(us){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=TE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Sh(t);var n=t.queue,r=vg.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rh,useDeferredValue:function(t,n){var r=en();return wh(r,t,n)},useTransition:function(){var t=Sh(!1);return t=mg.bind(null,bt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=en();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(xt&124)!==0||Hm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,sg(Fm.bind(null,l,f,t),[t]),l.flags|=2048,na(9,au(),Gm.bind(null,l,f,r,n),null),r},useId:function(){var t=en(),n=Jt.identifierPrefix;if(Bt){var r=wi,l=Ri;r=(l&~(1<<32-Ge(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=iu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=gE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Dh,useFormState:tg,useActionState:tg,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ih.bind(null,bt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Eh,useCacheRefresh:function(){return en().memoizedState=EE.bind(null,bt)}},Sg={readContext:Fe,use:ru,useCallback:hg,useContext:Fe,useEffect:ag,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:su,useRef:rg,useState:function(){return su(Ii)},useDebugValue:Rh,useDeferredValue:function(t,n){var r=_e();return dg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=su(Ii)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:jm,useId:yg,useHostTransitionStatus:Dh,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var r=_e();return Xm(r,Yt,t,n)},useMemoCache:Eh,useCacheRefresh:_g},AE={readContext:Fe,use:ru,useCallback:hg,useContext:Fe,useEffect:ag,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:Ah,useRef:rg,useState:function(){return Ah(Ii)},useDebugValue:Rh,useDeferredValue:function(t,n){var r=_e();return Yt===null?wh(r,t,n):dg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Ah(Ii)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:jm,useId:yg,useHostTransitionStatus:Dh,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var r=_e();return Yt!==null?Xm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:_g},ia=null,Al=0;function cu(t){var n=Al;return Al+=1,ia===null&&(ia=[]),xm(ia,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function hu(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function bg(t){var n=t._init;return n(t._payload)}function Rg(t){function n(U,V){if(t){var P=U.deletions;P===null?(U.deletions=[V],U.flags|=16):P.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=bi(U,V),U.index=0,U.sibling=null,U}function f(U,V,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<V?(U.flags|=67108866,V):P):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,P,F){return V===null||V.tag!==6?(V=Zc(P,U.mode,F),V.return=U,V):(V=c(V,P),V.return=U,V)}function b(U,V,P,F){var st=P.type;return st===K?G(U,V,P.props.children,F,P.key):V!==null&&(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&bg(st)===V.type)?(V=c(V,P.props),Sl(V,P),V.return=U,V):(V=Yo(P.type,P.key,P.props,null,U.mode,F),Sl(V,P),V.return=U,V)}function z(U,V,P,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=$c(P,U.mode,F),V.return=U,V):(V=c(V,P.children||[]),V.return=U,V)}function G(U,V,P,F,st){return V===null||V.tag!==7?(V=es(P,U.mode,F,st),V.return=U,V):(V=c(V,P),V.return=U,V)}function Y(U,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Zc(""+V,U.mode,P),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return P=Yo(V.type,V.key,V.props,null,U.mode,P),Sl(P,V),P.return=U,P;case j:return V=$c(V,U.mode,P),V.return=U,V;case S:var F=V._init;return V=F(V._payload),Y(U,V,P)}if(Ft(V)||w(V))return V=es(V,U.mode,P,null),V.return=U,V;if(typeof V.then=="function")return Y(U,cu(V),P);if(V.$$typeof===at)return Y(U,$o(U,V),P);hu(U,V)}return null}function B(U,V,P,F){var st=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return st!==null?null:E(U,V,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return P.key===st?b(U,V,P,F):null;case j:return P.key===st?z(U,V,P,F):null;case S:return st=P._init,P=st(P._payload),B(U,V,P,F)}if(Ft(P)||w(P))return st!==null?null:G(U,V,P,F,null);if(typeof P.then=="function")return B(U,V,cu(P),F);if(P.$$typeof===at)return B(U,V,$o(U,P),F);hu(U,P)}return null}function k(U,V,P,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,E(V,U,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return U=U.get(F.key===null?P:F.key)||null,b(V,U,F,st);case j:return U=U.get(F.key===null?P:F.key)||null,z(V,U,F,st);case S:var Ct=F._init;return F=Ct(F._payload),k(U,V,P,F,st)}if(Ft(F)||w(F))return U=U.get(P)||null,G(V,U,F,st,null);if(typeof F.then=="function")return k(U,V,P,cu(F),st);if(F.$$typeof===at)return k(U,V,P,$o(V,F),st);hu(V,F)}return null}function _t(U,V,P,F){for(var st=null,Ct=null,ot=V,mt=V=0,Me=null;ot!==null&&mt<P.length;mt++){ot.index>mt?(Me=ot,ot=null):Me=ot.sibling;var Pt=B(U,ot,P[mt],F);if(Pt===null){ot===null&&(ot=Me);break}t&&ot&&Pt.alternate===null&&n(U,ot),V=f(Pt,V,mt),Ct===null?st=Pt:Ct.sibling=Pt,Ct=Pt,ot=Me}if(mt===P.length)return r(U,ot),Bt&&is(U,mt),st;if(ot===null){for(;mt<P.length;mt++)ot=Y(U,P[mt],F),ot!==null&&(V=f(ot,V,mt),Ct===null?st=ot:Ct.sibling=ot,Ct=ot);return Bt&&is(U,mt),st}for(ot=l(ot);mt<P.length;mt++)Me=k(ot,U,mt,P[mt],F),Me!==null&&(t&&Me.alternate!==null&&ot.delete(Me.key===null?mt:Me.key),V=f(Me,V,mt),Ct===null?st=Me:Ct.sibling=Me,Ct=Me);return t&&ot.forEach(function(gr){return n(U,gr)}),Bt&&is(U,mt),st}function ft(U,V,P,F){if(P==null)throw Error(a(151));for(var st=null,Ct=null,ot=V,mt=V=0,Me=null,Pt=P.next();ot!==null&&!Pt.done;mt++,Pt=P.next()){ot.index>mt?(Me=ot,ot=null):Me=ot.sibling;var gr=B(U,ot,Pt.value,F);if(gr===null){ot===null&&(ot=Me);break}t&&ot&&gr.alternate===null&&n(U,ot),V=f(gr,V,mt),Ct===null?st=gr:Ct.sibling=gr,Ct=gr,ot=Me}if(Pt.done)return r(U,ot),Bt&&is(U,mt),st;if(ot===null){for(;!Pt.done;mt++,Pt=P.next())Pt=Y(U,Pt.value,F),Pt!==null&&(V=f(Pt,V,mt),Ct===null?st=Pt:Ct.sibling=Pt,Ct=Pt);return Bt&&is(U,mt),st}for(ot=l(ot);!Pt.done;mt++,Pt=P.next())Pt=k(ot,U,mt,Pt.value,F),Pt!==null&&(t&&Pt.alternate!==null&&ot.delete(Pt.key===null?mt:Pt.key),V=f(Pt,V,mt),Ct===null?st=Pt:Ct.sibling=Pt,Ct=Pt);return t&&ot.forEach(function(ST){return n(U,ST)}),Bt&&is(U,mt),st}function Kt(U,V,P,F){if(typeof P=="object"&&P!==null&&P.type===K&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case N:t:{for(var st=P.key;V!==null;){if(V.key===st){if(st=P.type,st===K){if(V.tag===7){r(U,V.sibling),F=c(V,P.props.children),F.return=U,U=F;break t}}else if(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&bg(st)===V.type){r(U,V.sibling),F=c(V,P.props),Sl(F,P),F.return=U,U=F;break t}r(U,V);break}else n(U,V);V=V.sibling}P.type===K?(F=es(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=Yo(P.type,P.key,P.props,null,U.mode,F),Sl(F,P),F.return=U,U=F)}return y(U);case j:t:{for(st=P.key;V!==null;){if(V.key===st)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){r(U,V.sibling),F=c(V,P.children||[]),F.return=U,U=F;break t}else{r(U,V);break}else n(U,V);V=V.sibling}F=$c(P,U.mode,F),F.return=U,U=F}return y(U);case S:return st=P._init,P=st(P._payload),Kt(U,V,P,F)}if(Ft(P))return _t(U,V,P,F);if(w(P)){if(st=w(P),typeof st!="function")throw Error(a(150));return P=st.call(P),ft(U,V,P,F)}if(typeof P.then=="function")return Kt(U,V,cu(P),F);if(P.$$typeof===at)return Kt(U,V,$o(U,P),F);hu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(r(U,V.sibling),F=c(V,P),F.return=U,U=F):(r(U,V),F=Zc(P,U.mode,F),F.return=U,U=F),y(U)):r(U,V)}return function(U,V,P,F){try{Al=0;var st=Kt(U,V,P,F);return ia=null,st}catch(ot){if(ot===dl||ot===Wo)throw ot;var Ct=un(29,ot,null,U.mode);return Ct.lanes=F,Ct.return=U,Ct}finally{}}}var ra=Rg(!0),wg=Rg(!1),wn=$(null),Wn=null;function tr(t){var n=t.alternate;J(we,we.current&1),J(wn,t),Wn===null&&(n===null||Ws.current!==null||n.memoizedState!==null)&&(Wn=t)}function Cg(t){if(t.tag===22){if(J(we,we.current),J(wn,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else er()}function er(){J(we,we.current),J(wn,wn.current)}function Vi(t){nt(wn),Wn===t&&(Wn=null),nt(we)}var we=$(0);function fu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Ef(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Vh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=dn(),c=$i(l);c.payload=n,r!=null&&(c.callback=r),n=Ji(t,c,l),n!==null&&(mn(n,t,l),gl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=dn(),c=$i(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Ji(t,c,l),n!==null&&(mn(n,t,l),gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=dn(),l=$i(r);l.tag=2,n!=null&&(l.callback=n),n=Ji(t,l,r),n!==null&&(mn(n,t,r),gl(n,t,r))}};function Dg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!sl(r,l)||!sl(c,f):!0}function Ig(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Nh.enqueueReplaceState(n,n.state,null)}function cs(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vg(t){du(t)}function Ng(t){console.error(t)}function Og(t){du(t)}function mu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Mg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Oh(t,n,r){return r=$i(r),r.tag=3,r.payload={element:null},r.callback=function(){mu(t,n)},r}function xg(t){return t=$i(t),t.tag=3,t}function Ug(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Mg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Mg(n,r,l),typeof c!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function SE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&cl(n,r,c,!0),r=wn.current,r!==null){switch(r.tag){case 13:return Wn===null?nf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===lh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),sf(t,l,c)),!1;case 22:return r.flags|=65536,l===lh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),sf(t,l,c)),!1}throw Error(a(435,r.tag))}return sf(t,l,c),nf(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==th&&(t=Error(a(422),{cause:l}),ul(An(t,r)))):(l!==th&&(n=Error(a(423),{cause:l}),ul(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=Oh(t.stateNode,l,c),ch(t,c),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:l});if(f=An(f,r),Vl===null?Vl=[f]:Vl.push(f),oe!==4&&(oe=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Oh(r.stateNode,l,t),ch(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(lr===null||!lr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=xg(c),Ug(c,t,r,l),ch(r,c),!1}r=r.return}while(r!==null);return!1}var Lg=Error(a(461)),Ne=!1;function ze(t,n,r,l){n.child=t===null?wg(n,null,r,l):ra(n,t.child,r,l)}function Pg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ls(n),l=gh(t,n,r,y,f,c),E=ph(),t!==null&&!Ne?(yh(t,n,c),Ni(t,n,c)):(Bt&&E&&Jc(n),n.flags|=1,ze(t,n,l,c),n.child)}function zg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Kc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Bg(t,n,f,l,c)):(t=Yo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:sl,r(y,l)&&t.ref===n.ref)return Ni(t,n,c)}return n.flags|=1,t=bi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Bg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(sl(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ni(t,n,c)}return Mh(t,n,r,l,c)}function kg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return qg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jo(n,f!==null?f.cachePool:null),f!==null?Bm(n,f):fh(),Cg(n);else return n.lanes=n.childLanes=536870912,qg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Jo(n,f.cachePool),Bm(n,f),er(),n.memoizedState=null):(t!==null&&Jo(n,null),fh(),er());return ze(t,n,c,r),n.child}function qg(t,n,r,l){var c=ah();return c=c===null?null:{parent:Re._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Jo(n,null),fh(),Cg(n),t!==null&&cl(t,n,l,!0),null}function gu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Mh(t,n,r,l,c){return ls(n),r=gh(t,n,r,l,void 0,c),l=ph(),t!==null&&!Ne?(yh(t,n,c),Ni(t,n,c)):(Bt&&l&&Jc(n),n.flags|=1,ze(t,n,r,c),n.child)}function jg(t,n,r,l,c,f){return ls(n),n.updateQueue=null,r=qm(n,l,r,c),km(t),l=ph(),t!==null&&!Ne?(yh(t,n,f),Ni(t,n,f)):(Bt&&l&&Jc(n),n.flags|=1,ze(t,n,r,f),n.child)}function Hg(t,n,r,l,c){if(ls(n),n.stateNode===null){var f=Xs,y=r.contextType;typeof y=="object"&&y!==null&&(f=Fe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},oh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Fe(y):Xs,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Vh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Nh.enqueueReplaceState(f,f.state,null),yl(n,l,f,c),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=cs(r,E);f.props=b;var z=f.context,G=r.contextType;y=Xs,typeof G=="object"&&G!==null&&(y=Fe(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Ig(n,f,l,y),Zi=!1;var B=n.memoizedState;f.state=B,yl(n,l,f,c),pl(),z=n.memoizedState,E||B!==z||Zi?(typeof Y=="function"&&(Vh(n,r,Y,l),z=n.memoizedState),(b=Zi||Dg(n,r,b,l,B,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uh(t,n),y=n.memoizedProps,G=cs(r,y),f.props=G,Y=n.pendingProps,B=f.context,z=r.contextType,b=Xs,typeof z=="object"&&z!==null&&(b=Fe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&Ig(n,f,l,b),Zi=!1,B=n.memoizedState,f.state=B,yl(n,l,f,c),pl();var k=n.memoizedState;y!==Y||B!==k||Zi||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(Vh(n,r,E,l),k=n.memoizedState),(G=Zi||Dg(n,r,G,l,B,k,b)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,gu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ra(n,t.child,null,c),n.child=ra(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ni(t,n,c),t}function Gg(t,n,r,l){return ol(),n.flags|=256,ze(t,n,r,l),n.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uh(t){return{baseLanes:t,cachePool:Nm()}}function Lh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function Fg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?tr(n):er(),Bt){var E=le,b;if(b=E){t:{for(b=E,E=Jn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Pn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ns!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,We=n,le=null,b=!0):b=!1}b||ss(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ef(E)?n.lanes=32:n.lanes=536870912,null;Vi(n)}return E=l.children,l=l.fallback,c?(er(),c=n.mode,E=pu({mode:"hidden",children:E},c),l=es(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Uh(r),c.childLanes=Lh(t,y,r),n.memoizedState=xh,l):(tr(n),Ph(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(tr(n),n.flags&=-257,n=zh(t,n,r)):n.memoizedState!==null?(er(),n.child=t.child,n.flags|=128,n=null):(er(),c=l.fallback,E=n.mode,l=pu({mode:"visible",children:l.children},E),c=es(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ra(n,t.child,null,r),l=n.child,l.memoizedState=Uh(r),l.childLanes=Lh(t,y,r),n.memoizedState=xh,n=c);else if(tr(n),Ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,ul({value:l,source:null,stack:null}),n=zh(t,n,r)}else if(Ne||cl(t,n,r,!1),y=(r&t.childLanes)!==0,Ne||y){if(y=Jt,y!==null&&(l=r&-r,l=(l&42)!==0?1:ji(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Ys(t,l),mn(y,t,l),Lg;E.data==="$?"||nf(),n=zh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,le=Pn(E.nextSibling),We=n,Bt=!0,rs=null,Jn=!1,t!==null&&(bn[Rn++]=Ri,bn[Rn++]=wi,bn[Rn++]=ns,Ri=t.id,wi=t.overflow,ns=n),n=Ph(n,l.children),n.flags|=4096);return n}return c?(er(),c=l.fallback,E=n.mode,b=t.child,z=b.sibling,l=bi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?c=bi(z,c):(c=es(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Uh(r):(b=E.cachePool,b!==null?(z=Re._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=Nm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Lh(t,y,r),n.memoizedState=xh,l):(tr(n),r=t.child,t=r.sibling,r=bi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Ph(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zh(t,n,r){return ra(n,t.child,null,r),t=Ph(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Qg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),nh(t.return,n,r)}function Bh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Yg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=we.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qg(t,r,n);else if(t.tag===19)Qg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(we,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&fu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Bh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&fu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Bh(n,!0,r,null,f);break;case"together":Bh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ni(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ar|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(cl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=bi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=bi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function bE(t,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Ki(n,Re,t.memoizedState.cache),ol();break;case 27:case 5:qi(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Fg(t,n,r):(tr(n),t=Ni(t,n,r),t!==null?t.sibling:null);tr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(cl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Yg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(we,we.current),l)break;return null;case 22:case 23:return n.lanes=0,kg(t,n,r);case 24:Ki(n,Re,t.memoizedState.cache)}return Ni(t,n,r)}function Xg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!kh(t,r)&&(n.flags&128)===0)return Ne=!1,bE(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&bm(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Kc(l)?(t=cs(l,t),n.tag=1,n=Hg(null,n,l,t,r)):(n.tag=0,n=Mh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===dt){n.tag=11,n=Pg(null,n,l,t,r);break t}else if(c===M){n.tag=14,n=zg(null,n,l,t,r);break t}}throw n=se(l)||l,Error(a(306,n,""))}}return n;case 0:return Mh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=cs(l,n.pendingProps),Hg(t,n,l,c,r);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,uh(t,n),yl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Ki(n,Re,l),l!==f.cache&&ih(n,[Re],r,!0),pl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Gg(t,n,l,r);break t}else if(l!==c){c=An(Error(a(424)),n),ul(c),n=Gg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Pn(t.firstChild),We=n,Bt=!0,rs=null,Jn=!0,r=wg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ol(),l===c){n=Ni(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return gu(t,n),t===null?(r=Jp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Vu(vt.current).createElement(r),l[Ae]=n,l[ge]=t,ke(l,r,t),he(l),n.stateNode=l):n.memoizedState=Jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qi(n),t===null&&Bt&&(l=n.stateNode=Kp(n.type,n.pendingProps,vt.current),We=n,Jn=!0,c=le,cr(n.type)?(Tf=c,le=Pn(l.firstChild)):le=c),ze(t,n,n.pendingProps.children,r),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=le)&&(l=JE(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,We=n,le=Pn(l.firstChild),Jn=!1,c=!0):c=!1),c||ss(n)),qi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,yf(c,f)?l=null:y!==null&&yf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=gh(t,n,pE,null,null,r),Bl._currentValue=c),gu(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=le)&&(r=WE(r,n.pendingProps,Jn),r!==null?(n.stateNode=r,We=n,le=null,t=!0):t=!1),t||ss(n)),null;case 13:return Fg(t,n,r);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ra(n,null,l,r):ze(t,n,l,r),n.child;case 11:return Pg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ki(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ls(n),c=Fe(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return zg(t,n,n.type,n.pendingProps,r);case 15:return Bg(t,n,n.type,n.pendingProps,r);case 19:return Yg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=pu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=bi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return kg(t,n,r);case 24:return ls(n),l=Fe(Re),t===null?(c=ah(),c===null&&(c=Jt,f=rh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},oh(n),Ki(n,Re,c)):((t.lanes&r)!==0&&(uh(t,n),yl(n,null,null,r),pl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ki(n,Re,l)):(l=f.cache,Ki(n,Re,l),l!==c.cache&&ih(n,[Re],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Oi(t){t.flags|=4}function Kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n)){if(n=wn.current,n!==null&&((xt&4194048)===xt?Wn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Wn))throw ml=lh,Om;t.flags|=8192}}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qa():536870912,t.lanes|=n,oa|=n)}function bl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function RE(t,n,r){var l=n.pendingProps;switch(Wc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Re),kn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ll(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cm())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Oi(n),r!==null?(ie(n),Kg(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Oi(n),ie(n),Kg(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),ie(n),n.flags&=-16777217),null;case 27:hi(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}t=ht.current,ll(n)?Rm(n):(t=Kp(c,l,r),n.stateNode=t,Oi(n))}return ie(n),null;case 5:if(hi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(t=ht.current,ll(n))Rm(n);else{switch(c=Vu(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ae]=n,t[ge]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ke(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,ll(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ae]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||jp(t.nodeValue,r)),t||ss(n)}else t=Vu(t).createTextNode(l),t[Ae]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ll(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ae]=n}else ol(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Cm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Vi(n),n):(Vi(n),null)}if(Vi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),yu(n,n.updateQueue),ie(n),null;case 4:return kn(),t===null&&ff(n.stateNode.containerInfo),ie(n),null;case 10:return Di(n.type),ie(n),null;case 19:if(nt(we),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)bl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=fu(t),f!==null){for(n.flags|=128,bl(c,!1),t=f.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Sm(r,t),r=r.sibling;return J(we,we.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>Eu&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304)}else{if(!l)if(t=fu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),bl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ie(n),null}else 2*pn()-c.renderingStartTime>Eu&&r!==536870912&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=we.current,J(we,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Vi(n),dh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&yu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(os),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Di(Re),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function wE(t,n){switch(Wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Re),kn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 13:if(Vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ol()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(we),null;case 4:return kn(),null;case 10:return Di(n.type),null;case 22:case 23:return Vi(n),dh(),t!==null&&nt(os),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Re),null;case 25:return null;default:return null}}function Zg(t,n){switch(Wc(n),n.tag){case 3:Di(Re),kn();break;case 26:case 27:case 5:hi(n);break;case 4:kn();break;case 13:Vi(n);break;case 19:nt(we);break;case 10:Di(n.type);break;case 22:case 23:Vi(n),dh(),t!==null&&nt(os);break;case 24:Di(Re)}}function Rl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function nr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,z=E;try{z()}catch(G){Zt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Zt(n,n.return,G)}}function $g(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{zm(n,r)}catch(l){Zt(t,t.return,l)}}}function Jg(t,n,r){r.props=cs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function wl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function ti(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function Wg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function qh(t,n,r){try{var l=t.stateNode;YE(l,t.type,r,n),l[ge]=n}catch(c){Zt(t,t.return,c)}}function tp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cr(t.type)||t.tag===4}function jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Iu));else if(l!==4&&(l===27&&cr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Hh(t,n,r),t=t.sibling;t!==null;)Hh(t,n,r),t=t.sibling}function _u(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&cr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(_u(t,n,r),t=t.sibling;t!==null;)_u(t,n,r),t=t.sibling}function ep(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,r),n[Ae]=t,n[ge]=r}catch(f){Zt(t,t.return,f)}}var Mi=!1,de=!1,Gh=!1,np=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function CE(t,n){if(t=t.containerInfo,gf=Lu,t=dm(t),jc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,z=0,G=0,Y=t,B=null;e:for(;;){for(var k;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===r&&++z===c&&(E=y),B===f&&++G===l&&(b=y),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(pf={focusedElem:t,selectionRange:r},Lu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=cs(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Zt(r,r.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)vf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function ip(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ir(t,r),l&4&&Rl(5,r);break;case 1:if(ir(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Zt(r,r.return,y)}else{var c=cs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(r,r.return,y)}}l&64&&$g(r),l&512&&wl(r,r.return);break;case 3:if(ir(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{zm(t,n)}catch(y){Zt(r,r.return,y)}}break;case 27:n===null&&l&4&&ep(r);case 26:case 5:ir(t,r),n===null&&l&4&&Wg(r),l&512&&wl(r,r.return);break;case 12:ir(t,r);break;case 13:ir(t,r),l&4&&ap(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=LE.bind(null,r),tT(t,r))));break;case 22:if(l=r.memoizedState!==null||Mi,!l){n=n!==null&&n.memoizedState!==null||de,c=Mi;var f=de;Mi=l,(de=n)&&!f?rr(t,r,(r.subtreeFlags&8772)!==0):ir(t,r),Mi=c,de=f}break;case 30:break;default:ir(t,r)}}function rp(t){var n=t.alternate;n!==null&&(t.alternate=null,rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,nn=!1;function xi(t,n,r){for(r=r.child;r!==null;)sp(t,n,r),r=r.sibling}function sp(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:de||ti(r,n),xi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:de||ti(r,n);var l=ne,c=nn;cr(r.type)&&(ne=r.stateNode,nn=!1),xi(t,n,r),Ul(r.stateNode),ne=l,nn=c;break;case 5:de||ti(r,n);case 6:if(l=ne,c=nn,ne=null,xi(t,n,r),ne=l,nn=c,ne!==null)if(nn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:ne!==null&&(nn?(t=ne,Yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Hl(t)):Yp(ne,r.stateNode));break;case 4:l=ne,c=nn,ne=r.stateNode.containerInfo,nn=!0,xi(t,n,r),ne=l,nn=c;break;case 0:case 11:case 14:case 15:de||nr(2,r,n),de||nr(4,r,n),xi(t,n,r);break;case 1:de||(ti(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Jg(r,n,l)),xi(t,n,r);break;case 21:xi(t,n,r);break;case 22:de=(l=de)||r.memoizedState!==null,xi(t,n,r),de=l;break;default:xi(t,n,r)}}function ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hl(t)}catch(r){Zt(n,n.return,r)}}function DE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new np),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new np),n;default:throw Error(a(435,t.tag))}}function Fh(t,n){var r=DE(t);n.forEach(function(l){var c=PE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(cr(E.type)){ne=E.stateNode,nn=!1;break t}break;case 5:ne=E.stateNode,nn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ne===null)throw Error(a(160));sp(f,y,c),ne=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)lp(n,t),n=n.sibling}var Ln=null;function lp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&(nr(3,t,t.return),Rl(3,t),nr(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(de||r===null||ti(r,r.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Ln;if(cn(n,t),hn(t),l&512&&(de||r===null||ti(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Br]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,r),f[Ae]=t,he(f),l=f;break t;case"link":var y=ey("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;case"meta":if(y=ey("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ae]=t,he(f),l=f}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qh(t,t.memoizedProps,r.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(de||r===null||ti(r,r.return)),r!==null&&l&4&&qh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(de||r===null||ti(r,r.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(k){Zt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,qh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Gh=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Zt(t,t.return,k)}}break;case 3:if(Mu=null,c=Ln,Ln=Nu(n.containerInfo),cn(n,t),Ln=c,hn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Hl(n.containerInfo)}catch(k){Zt(t,t.return,k)}Gh&&(Gh=!1,op(t));break;case 4:l=Ln,Ln=Nu(t.stateNode.containerInfo),cn(n,t),hn(t),Ln=l;break;case 12:cn(n,t),hn(t);break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($h=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,z=Mi,G=de;if(Mi=z||c,de=G||b,cn(n,t),de=G,Mi=z,hn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Mi||de||hs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Zt(b,b.return,k)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Zt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Fh(t,r))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(tp(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=jh(t);_u(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(_n(y,""),r.flags&=-33);var E=jh(t);_u(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,z=jh(t);Hh(t,z,b);break;default:throw Error(a(161))}}catch(G){Zt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ir(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ip(t,n.alternate,n),n=n.sibling}function hs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),hs(n);break;case 1:ti(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Jg(n,n.return,r),hs(n);break;case 27:Ul(n.stateNode);case 26:case 5:ti(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}t=t.sibling}}function rr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:rr(c,f,r),Rl(4,f);break;case 1:if(rr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Pm(b[c],E)}catch(z){Zt(l,l.return,z)}}r&&y&64&&$g(f),wl(f,f.return);break;case 27:ep(f);case 26:case 5:rr(c,f,r),r&&l===null&&y&4&&Wg(f),wl(f,f.return);break;case 12:rr(c,f,r);break;case 13:rr(c,f,r),r&&y&4&&ap(c,f);break;case 22:f.memoizedState===null&&rr(c,f,r),wl(f,f.return);break;case 30:break;default:rr(c,f,r)}n=n.sibling}}function Qh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&hl(r))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function ei(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,r,l),n=n.sibling}function up(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,r,l),c&2048&&Rl(9,n);break;case 1:ei(t,n,r,l);break;case 3:ei(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(c&2048){ei(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Zt(n,n.return,b)}}else ei(t,n,r,l);break;case 13:ei(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ei(t,n,r,l):Cl(t,n):f._visibility&2?ei(t,n,r,l):(f._visibility|=2,sa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Qh(y,n);break;case 24:ei(t,n,r,l),c&2048&&Yh(n.alternate,n);break;default:ei(t,n,r,l)}}function sa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:sa(f,y,E,b,c),Rl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?sa(f,y,E,b,c):Cl(f,y):(G._visibility|=2,sa(f,y,E,b,c)),c&&z&2048&&Qh(y.alternate,y);break;case 24:sa(f,y,E,b,c),c&&z&2048&&Yh(y.alternate,y);break;default:sa(f,y,E,b,c)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Cl(r,l),c&2048&&Qh(l.alternate,l);break;case 24:Cl(r,l),c&2048&&Yh(l.alternate,l);break;default:Cl(r,l)}n=n.sibling}}var Dl=8192;function aa(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 26:aa(t),t.flags&Dl&&t.memoizedState!==null&&dT(Ln,t.memoizedState,t.memoizedProps);break;case 5:aa(t);break;case 3:case 4:var n=Ln;Ln=Nu(t.stateNode.containerInfo),aa(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Dl,Dl=16777216,aa(t),Dl=n):aa(t));break;default:aa(t)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,dp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&nr(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vu(t)):Il(t);break;default:Il(t)}}function vu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,dp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),vu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,vu(n));break;default:vu(n)}t=t.sibling}}function dp(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:nr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(rp(l),l===r){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var IE={getCacheForType:function(t){var n=Fe(Re),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},VE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,It=null,xt=0,Gt=0,fn=null,sr=!1,la=!1,Xh=!1,Ui=0,oe=0,ar=0,fs=0,Kh=0,Cn=0,oa=0,Vl=null,rn=null,Zh=!1,$h=0,Eu=1/0,Tu=null,lr=null,Be=0,or=null,ua=null,ca=0,Jh=0,Wh=null,mp=null,Nl=0,tf=null;function dn(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var t=$s;return t!==0?t:of()}return Hi()}function gp(){Cn===0&&(Cn=(xt&536870912)===0||Bt?ka():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function mn(t,n,r){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(ha(t,0),ur(t,xt,Cn,!1)),di(t,r),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(fs|=r),oe===4&&ur(t,xt,Cn,!1)),ni(t))}function pp(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||zr(t,n),c=l?ME(t,n):rf(t,n,!0),f=l;do{if(c===0){la&&!l&&ur(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!NE(r)){c=rf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Vl;var b=E.current.memoizedState.isDehydrated;if(b&&(ha(E,y).flags|=256),y=rf(E,y,!1),y!==2){if(Xh&&!b){E.errorRecoveryDisabledLanes|=f,fs|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ha(t,0),ur(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ur(l,n,Cn,!sr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=$h+300-pn(),10<c)){if(ur(l,n,Cn,!sr),Ds(l,0,!0)!==0)break t;l.timeoutHandle=Fp(yp.bind(null,l,r,rn,Tu,Zh,n,Cn,fs,oa,sr,f,2,-0,0),c);break t}yp(l,r,rn,Tu,Zh,n,Cn,fs,oa,sr,f,0,-0,0)}}break}while(!0);ni(t)}function yp(t,n,r,l,c,f,y,E,b,z,G,Y,B,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:fT},cp(n),Y=mT(),Y!==null)){t.cancelPendingCommit=Y(bp.bind(null,t,n,f,r,l,c,y,E,b,G,1,B,k)),ur(t,f,y,!z);return}bp(t,n,f,r,l,c,y,E,b)}function NE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ur(t,n,r,l){n&=~Kh,n&=~fs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&qn(t,r,n)}function Au(){return(Ht&6)===0?(Ol(0),!1):!0}function ef(){if(It!==null){if(Gt===0)var t=It.return;else t=It,Ci=as=null,_h(t),ia=null,Al=0,t=It;for(;t!==null;)Zg(t.alternate,t),t=t.return;It=null}}function ha(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,KE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ef(),Jt=t,It=r=bi(t.current,null),xt=n,Gt=0,fn=null,sr=!1,la=zr(t,n),Xh=!1,oa=Cn=Kh=fs=ar=oe=0,rn=Vl=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ge(l),f=1<<c;n|=t[c],l&=~f}return Ui=n,Go(),r}function _p(t,n){bt=null,H.H=uu,n===dl||n===Wo?(n=Um(),Gt=3):n===Om?(n=Um(),Gt=4):Gt=n===Lg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,It===null&&(oe=1,mu(t,An(n,t.current)))}function vp(){var t=H.H;return H.H=uu,t===null?uu:t}function Ep(){var t=H.A;return H.A=IE,t}function nf(){oe=4,sr||(xt&4194048)!==xt&&wn.current!==null||(la=!0),(ar&134217727)===0&&(fs&134217727)===0||Jt===null||ur(Jt,xt,Cn,!1)}function rf(t,n,r){var l=Ht;Ht|=2;var c=vp(),f=Ep();(Jt!==t||xt!==n)&&(Tu=null,ha(t,n)),n=!1;var y=oe;t:do try{if(Gt!==0&&It!==null){var E=It,b=fn;switch(Gt){case 8:ef(),y=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Gt;if(Gt=0,fn=null,fa(t,E,b,z),r&&la){y=0;break t}break;default:z=Gt,Gt=0,fn=null,fa(t,E,b,z)}}OE(),y=oe;break}catch(G){_p(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ci=as=null,Ht=l,H.H=c,H.A=f,It===null&&(Jt=null,xt=0,Go()),y}function OE(){for(;It!==null;)Tp(It)}function ME(t,n){var r=Ht;Ht|=2;var l=vp(),c=Ep();Jt!==t||xt!==n?(Tu=null,Eu=pn()+500,ha(t,n)):la=zr(t,n);t:do try{if(Gt!==0&&It!==null){n=It;var f=fn;e:switch(Gt){case 1:Gt=0,fn=null,fa(t,n,f,1);break;case 2:case 9:if(Mm(f)){Gt=0,fn=null,Ap(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),ni(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Mm(f)?(Gt=0,fn=null,Ap(n)):(Gt=0,fn=null,fa(t,n,f,7));break;case 5:var y=null;switch(It.tag){case 26:y=It.memoizedState;case 5:case 27:var E=It;if(!y||iy(y)){Gt=0,fn=null;var b=E.sibling;if(b!==null)It=b;else{var z=E.return;z!==null?(It=z,Su(z)):It=null}break e}}Gt=0,fn=null,fa(t,n,f,5);break;case 6:Gt=0,fn=null,fa(t,n,f,6);break;case 8:ef(),oe=6;break t;default:throw Error(a(462))}}xE();break}catch(G){_p(t,G)}while(!0);return Ci=as=null,H.H=l,H.A=c,Ht=r,It!==null?0:(Jt=null,xt=0,Go(),oe)}function xE(){for(;It!==null&&!La();)Tp(It)}function Tp(t){var n=Xg(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?Su(t):It=n}function Ap(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=jg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=jg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:_h(n);default:Zg(r,n),n=It=Sm(n,Ui),n=Xg(r,n,Ui)}t.memoizedProps=t.pendingProps,n===null?Su(t):It=n}function fa(t,n,r,l){Ci=as=null,_h(n),ia=null,Al=0;var c=n.return;try{if(SE(t,c,n,r,xt)){oe=1,mu(t,An(r,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;oe=1,mu(t,An(r,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:la||(xt&536870912)!==0?t=!1:(sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sp(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Sp(n,sr);return}t=n.return;var r=RE(n.alternate,n,Ui);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);oe===0&&(oe=5)}function Sp(t,n){do{var r=wE(t.alternate,t);if(r!==null){r.flags&=32767,It=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=r}while(t!==null);oe=6,It=null}function bp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do bu();while(Be!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yc,ja(t,r,f,y,E,b),t===Jt&&(It=Jt=null,xt=0),ua=n,or=t,ca=r,Jh=f,Wh=c,mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zE(xr,function(){return Ip(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{CE(t,n,r)}finally{Ht=y,et.p=c,H.T=l}}Be=1,Rp(),wp(),Cp()}}function Rp(){if(Be===1){Be=0;var t=or,n=ua,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{lp(n,t);var f=pf,y=dm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&fm(E.ownerDocument.documentElement,E)){if(b!==null&&jc(E)){var z=b.start,G=b.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),_t=E.textContent.length,ft=Math.min(b.start,_t),Kt=b.end===void 0?ft:Math.min(b.end,_t);!k.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var U=hm(E,ft),V=hm(E,Kt);if(U&&V&&(k.rangeCount!==1||k.anchorNode!==U.node||k.anchorOffset!==U.offset||k.focusNode!==V.node||k.focusOffset!==V.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),k.removeAllRanges(),ft>Kt?(k.addRange(P),k.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),k.addRange(P))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Lu=!!gf,pf=gf=null}finally{Ht=c,et.p=l,H.T=r}}t.current=n,Be=2}}function wp(){if(Be===2){Be=0;var t=or,n=ua,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{ip(t,n.alternate,n)}finally{Ht=c,et.p=l,H.T=r}}Be=3}}function Cp(){if(Be===4||Be===3){Be=0,vo();var t=or,n=ua,r=ca,l=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,ua=or=null,Dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(lr=null),Is(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(ca&3)!==0&&bu(),ni(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===tf?Nl++:(Nl=0,tf=t):Nl=0,Ol(0)}}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function bu(t){return Rp(),wp(),Cp(),Ip()}function Ip(){if(Be!==5)return!1;var t=or,n=Jh;Jh=0;var r=Is(ca),l=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Wh,Wh=null;var f=or,y=ca;if(Be=0,ua=or=null,ca=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,fp(f.current),up(f,f.current,y,r),Ht=E,Ol(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{et.p=c,H.T=l,Dp(t,n)}}function Vp(t,n,r){n=An(r,n),n=Oh(t.stateNode,n,2),t=Ji(t,n,2),t!==null&&(di(t,2),ni(t))}function Zt(t,n,r){if(t.tag===3)Vp(t,t,r);else for(;n!==null;){if(n.tag===3){Vp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(lr===null||!lr.has(l))){t=An(r,t),r=xg(2),l=Ji(n,r,2),l!==null&&(Ug(r,l,n,t),di(l,2),ni(l));break}}n=n.return}}function sf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new VE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Xh=!0,c.add(r),t=UE.bind(null,t,n,r),n.then(t,t))}function UE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(xt&r)===r&&(oe===4||oe===3&&(xt&62914560)===xt&&300>pn()-$h?(Ht&2)===0&&ha(t,0):Kh|=r,oa===xt&&(oa=0)),ni(t)}function Np(t,n){n===0&&(n=qa()),t=Ys(t,n),t!==null&&(di(t,n),ni(t))}function LE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Np(t,r)}function PE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Np(t,r)}function zE(t,n){return Or(t,n)}var Ru=null,da=null,af=!1,wu=!1,lf=!1,ds=0;function ni(t){t!==da&&t.next===null&&(da===null?Ru=da=t:da=da.next=t),wu=!0,af||(af=!0,kE())}function Ol(t,n){if(!lf&&wu){lf=!0;do for(var r=!1,l=Ru;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Up(l,f))}else f=xt,f=Ds(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zr(l,f)||(r=!0,Up(l,f));l=l.next}while(r);lf=!1}}function BE(){Op()}function Op(){wu=af=!1;var t=0;ds!==0&&(XE()&&(t=ds),ds=0);for(var n=pn(),r=null,l=Ru;l!==null;){var c=l.next,f=Mp(l,n);f===0?(l.next=null,r===null?Ru=c:r.next=c,c===null&&(da=r)):(r=l,(t!==0||(f&3)!==0)&&(wu=!0)),l=c}Ol(t)}function Mp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ge(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ba(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=xt,r=Ds(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||zr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Mr(l),Is(r)){case 2:case 8:r=ws;break;case 32:r=xr;break;case 268435456:r=Cs;break;default:r=xr}return l=xp.bind(null,t),r=Or(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Mr(l),t.callbackPriority=2,t.callbackNode=null,2}function xp(t,n){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(bu()&&t.callbackNode!==r)return null;var l=xt;return l=Ds(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pp(t,l,n),Mp(t,pn()),t.callbackNode!=null&&t.callbackNode===r?xp.bind(null,t):null)}function Up(t,n){if(bu())return null;pp(t,n,!0)}function kE(){ZE(function(){(Ht&6)!==0?Or(Pa,BE):Op()})}function of(){return ds===0&&(ds=ka()),ds}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Us(""+t)}function Pp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function qE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Lp((c[ge]||null).action),y=l.submitter;y&&(n=(n=y[ge]||null)?Lp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ls("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ds!==0){var b=y?Pp(c,y):new FormData(c);Ch(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Pp(c,y):new FormData(c),Ch(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var uf=0;uf<Qc.length;uf++){var cf=Qc[uf],jE=cf.toLowerCase(),HE=cf[0].toUpperCase()+cf.slice(1);Un(jE,"on"+HE)}Un(pm,"onAnimationEnd"),Un(ym,"onAnimationIteration"),Un(_m,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(aE,"onTransitionRun"),Un(lE,"onTransitionStart"),Un(oE,"onTransitionCancel"),Un(vm,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function zp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){du(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,z=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){du(G)}c.currentTarget=null,f=b}}}}function Vt(t,n){var r=n[Ga];r===void 0&&(r=n[Ga]=new Set);var l=t+"__bubble";r.has(l)||(Bp(n,t,2,!1),r.add(l))}function hf(t,n,r){var l=0;n&&(l|=4),Bp(r,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[Cu]){t[Cu]=!0,Fa.forEach(function(r){r!=="selectionchange"&&(GE.has(r)||hf(r,!1,t),hf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,hf("selectionchange",!1,n))}}function Bp(t,n,r,l){switch(uy(n)){case 2:var c=yT;break;case 8:c=_T;break;default:c=wf}r=c.bind(null,n,r,t),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function df(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=mi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Io(function(){var z=f,G=vn(r),Y=[];t:{var B=Em.get(t);if(B!==void 0){var k=Ls,_t=t;switch(t){case"keypress":if(Yn(r)===0)break t;case"keydown":case"keyup":k=js;break;case"focusin":_t="focus",k=Bs;break;case"focusout":_t="blur",k=Bs;break;case"beforeblur":case"afterblur":k=Bs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Po;break;case pm:case ym:case _m:k=ks;break;case vm:k=Bo;break;case"scroll":case"scrollend":k=Vo;break;case"wheel":k=Hs;break;case"copy":case"cut":case"paste":k=qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=il;break;case"toggle":case"beforetoggle":k=qo}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),U=ft?B!==null?B+"Capture":null:B;ft=[];for(var V=z,P;V!==null;){var F=V;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=Qr(V,U),F!=null&&ft.push(xl(V,F,P))),Kt)break;V=V.return}0<ft.length&&(B=new k(B,_t,null,r,G),Y.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==_i&&(_t=r.relatedTarget||r.fromElement)&&(mi(_t)||_t[yn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(_t=r.relatedTarget||r.toElement,k=z,_t=_t?mi(_t):null,_t!==null&&(Kt=h(_t),ft=_t.tag,_t!==Kt||ft!==5&&ft!==27&&ft!==6)&&(_t=null)):(k=null,_t=z),k!==_t)){if(ft=Tn,F="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ft=il,F="onPointerLeave",U="onPointerEnter",V="pointer"),Kt=k==null?B:Hn(k),P=_t==null?B:Hn(_t),B=new ft(F,V+"leave",k,r,G),B.target=Kt,B.relatedTarget=P,F=null,mi(G)===z&&(ft=new ft(U,V+"enter",_t,r,G),ft.target=P,ft.relatedTarget=Kt,F=ft),Kt=F,k&&_t)e:{for(ft=k,U=_t,V=0,P=ft;P;P=ma(P))V++;for(P=0,F=U;F;F=ma(F))P++;for(;0<V-P;)ft=ma(ft),V--;for(;0<P-V;)U=ma(U),P--;for(;V--;){if(ft===U||U!==null&&ft===U.alternate)break e;ft=ma(ft),U=ma(U)}ft=null}else ft=null;k!==null&&kp(Y,B,k,ft,!1),_t!==null&&Kt!==null&&kp(Y,Kt,_t,ft,!0)}}t:{if(B=z?Hn(z):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var st=sm;else if(be(B))if(am)st=iE;else{st=eE;var Ct=tE}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Za(z.elementType)&&(st=sm):st=nE;if(st&&(st=st(t,z))){Si(Y,st,r,G);break t}Ct&&Ct(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Yi(B,"number",B.value)}switch(Ct=z?Hn(z):window,t){case"focusin":(be(Ct)||Ct.contentEditable==="true")&&(Gs=Ct,Hc=z,al=null);break;case"focusout":al=Hc=Gs=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,mm(Y,r,G);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":mm(Y,r,G)}var ot;if(Zn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ot?q(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(Ot||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ot&&(ot=Ja()):(Qn=G,Xi="value"in Qn?Qn.value:Qn.textContent,Ot=!0)),Ct=Du(z,mt),0<Ct.length&&(mt=new el(mt,t,null,r,G),Y.push({event:mt,listeners:Ct}),ot?mt.data=ot:(ot=W(r),ot!==null&&(mt.data=ot)))),(ot=m?Se(t,r):Mt(t,r))&&(mt=Du(z,"onBeforeInput"),0<mt.length&&(Ct=new el("onBeforeInput","beforeinput",null,r,G),Y.push({event:Ct,listeners:mt}),Ct.data=ot)),qE(Y,t,z,r,G)}zp(Y,n)})}function xl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Du(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Qr(t,r),c!=null&&l.unshift(xl(t,c,f)),c=Qr(t,n),c!=null&&l.push(xl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,c?(z=Qr(r,f),z!=null&&y.unshift(xl(r,z,b))):c||(z=Qr(r,f),z!=null&&y.push(xl(r,z,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var FE=/\r\n?/g,QE=/\u0000|\uFFFD/g;function qp(t){return(typeof t=="string"?t:""+t).replace(FE,`
`).replace(QE,"")}function jp(t,n){return n=qp(n),qp(t)===n}function Iu(){}function Xt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,r,l);break;case"style":Ka(t,l,f);break;case"data":if(n!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Us(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Us(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Iu);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Us(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Qi(t,"popover",l);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Lc.get(r)||r,Qi(t,r,l))}}function mf(t,n,r,l,c,f){switch(r){case"style":Ka(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Iu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ge]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Qi(t,r,l)}}}function ke(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,f,y,r,null)}}c&&Xt(t,n,"srcSet",r.srcSet,r,null),l&&Xt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,b=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Xt(t,n,l,G,r,null)}}Hr(t,f,E,b,z,y,c,!1),xs(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Xt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?yi(t,!!l,n,!1):r!=null&&yi(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(t,n,y,E,r,null)}Gr(t,l,c,f),xs(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,b,l,r,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Vt(Ml[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,z,l,r,null)}return;default:if(Za(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&mf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Xt(t,n,E,l,r,null))}function YE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,z=null,G=null;for(k in r){var Y=r[k];if(r.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(k)||Xt(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":z=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==Y&&Xt(t,n,B,k,l,Y)}}ln(t,y,E,b,z,G,f,c);return;case"select":k=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Xt(t,n,c,f,l,b)}n=E,r=y,l=k,B!=null?yi(t,!!r,B,!1):!!l!=!!r&&(n!=null?yi(t,!!r,n,!0):yi(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(t,n,y,c,l,f)}Qt(t,B,k);return;case"option":for(var _t in r)if(B=r[_t],r.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Xt(t,n,_t,null,l,B)}for(b in l)if(B=l[b],k=r[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)B=r[ft],r.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Xt(t,n,ft,null,l,B);for(z in l)if(B=l[z],k=r[z],l.hasOwnProperty(z)&&B!==k&&(B!=null||k!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Xt(t,n,z,B,l,k)}return;default:if(Za(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&mf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],k=r[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||mf(t,n,G,B,l,k);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Xt(t,n,U,null,l,B);for(Y in l)B=l[Y],k=r[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||Xt(t,n,Y,B,l,k)}var gf=null,pf=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function Hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function XE(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var Fp=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(t){return Qp.resolve(null).then(t).catch($E)}:Fp;function $E(t){setTimeout(function(){throw t})}function cr(t){return t==="head"}function Yp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Ul(y.documentElement),r&2&&Ul(y.body),r&4)for(r=y.head,Ul(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Br]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Hl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Hl(n)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vf(r),Fi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function JE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Br])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function WE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pn(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Tf=null;function Xp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Kp(t,n,r){switch(n=Vu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ul(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fi(t)}var Dn=new Map,Zp=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=et.d;et.d={f:eT,r:nT,D:iT,C:rT,L:sT,m:aT,X:oT,S:lT,M:uT};function eT(){var t=Li.f(),n=Au();return t||n}function nT(t){var n=jn(t);n!==null&&n.tag===5&&n.type==="form"?pg(n):Li.r(t)}var ga=typeof document>"u"?null:document;function $p(t,n,r){var l=ga;if(l&&typeof n=="string"&&n){var c=pe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Zp.has(c)||(Zp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),he(n),l.head.appendChild(n)))}}function iT(t){Li.D(t),$p("dns-prefetch",t,null)}function rT(t,n){Li.C(t,n),$p("preconnect",t,n)}function sT(t,n,r){Li.L(t,n,r);var l=ga;if(l&&t&&n){var c='link[rel="preload"][as="'+pe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+pe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+pe(r.imageSizes)+'"]')):c+='[href="'+pe(t)+'"]';var f=c;switch(n){case"style":f=pa(t);break;case"script":f=ya(t)}Dn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ll(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),ke(n,"link",t),he(n),l.head.appendChild(n)))}}function aT(t,n){Li.m(t,n);var r=ga;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ya(t)}if(!Dn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Pl(f)))return}l=r.createElement("link"),ke(l,"link",t),he(l),r.head.appendChild(l)}}}function lT(t,n,r){Li.S(t,n,r);var l=ga;if(l&&t){var c=Ze(l).hoistableStyles,f=pa(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ll(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&Af(t,r);var b=y=l.createElement("link");he(b),ke(b,"link",t),b._p=new Promise(function(z,G){b.onload=z,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function oT(t,n){Li.X(t,n);var r=ga;if(r&&t){var l=Ze(r).hoistableScripts,c=ya(t),f=l.get(c);f||(f=r.querySelector(Pl(c)),f||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&Sf(t,n),f=r.createElement("script"),he(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function uT(t,n){Li.M(t,n);var r=ga;if(r&&t){var l=Ze(r).hoistableScripts,c=ya(t),f=l.get(c);f||(f=r.querySelector(Pl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Sf(t,n),f=r.createElement("script"),he(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Jp(t,n,r,l){var c=(c=vt.current)?Nu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=pa(r.href),r=Ze(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=pa(r.href);var f=Ze(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ll(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||cT(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ya(r),r=Ze(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function pa(t){return'href="'+pe(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function cT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",r),he(n),t.head.appendChild(n))}function ya(t){return'[src="'+pe(t)+'"]'}function Pl(t){return"script[async]"+t}function ty(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pe(r.href)+'"]');if(l)return n.instance=l,he(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),ke(l,"style",c),Ou(l,r.precedence,t),n.instance=l;case"stylesheet":c=pa(r.href);var f=t.querySelector(Ll(c));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=Wp(r),(c=Dn.get(c))&&Af(l,c),f=(t.ownerDocument||t).createElement("link"),he(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ke(f,"link",l),n.state.loading|=4,Ou(f,r.precedence,t),n.instance=f;case"script":return f=ya(r.src),(c=t.querySelector(Pl(f)))?(n.instance=c,he(c),c):(l=r,(c=Dn.get(f))&&(l=A({},r),Sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),he(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,r.precedence,t));return n.instance}function Ou(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Mu=null;function ey(t,n,r){if(Mu===null){var l=new Map,c=Mu=new Map;c.set(r,l)}else c=Mu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Br]||f[Ae]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function ny(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function hT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zl=null;function fT(){}function dT(t,n,r){if(zl===null)throw Error(a(475));var l=zl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=pa(r.href),f=t.querySelector(Ll(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,r=Wp(r),(c=Dn.get(c))&&Af(r,c),f=f.createElement("link"),he(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ke(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=xu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function mT(){if(zl===null)throw Error(a(475));var t=zl;return t.stylesheets&&t.count===0&&bf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&bf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)bf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uu=null;function bf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uu=new Map,n.forEach(gT,t),Uu=null,xu.call(t))}function gT(t,n){if(!(n.state.loading&4)){var r=Uu.get(t);if(r)var l=r.get(null);else{r=new Map,Uu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=xu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:at,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function pT(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ry(t,n,r,l,c,f,y,E,b,z,G,Y){return t=new pT(t,n,r,y,E,b,z,Y),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=rh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},oh(f),t}function sy(t){return t?(t=Xs,t):Xs}function ay(t,n,r,l,c,f){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=$i(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ji(t,l,n),r!==null&&(mn(r,t,n),gl(r,t,n))}function ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rf(t,n){ly(t,n),(t=t.alternate)&&ly(t,n)}function oy(t){if(t.tag===13){var n=Ys(t,67108864);n!==null&&mn(n,t,67108864),Rf(t,67108864)}}var Lu=!0;function yT(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,wf(t,n,r,l)}finally{et.p=f,H.T=c}}function _T(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,wf(t,n,r,l)}finally{et.p=f,H.T=c}}function wf(t,n,r,l){if(Lu){var c=Cf(l);if(c===null)df(t,n,l,Pu,r),cy(t,l);else if(ET(c,t,n,r,l))l.stopPropagation();else if(cy(t,l),n&4&&-1<vT.indexOf(t)){for(;c!==null;){var f=jn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ge(y);E.entanglements[1]|=b,y&=~b}ni(f),(Ht&6)===0&&(Eu=pn()+500,Ol(0))}}break;case 13:E=Ys(f,2),E!==null&&mn(E,f,2),Au(),Rf(f,2)}if(f=Cf(l),f===null&&df(t,n,l,Pu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(t,n,l,null,r)}}function Cf(t){return t=vn(t),Df(t)}var Pu=null;function Df(t){if(Pu=null,t=mi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vc()){case Pa:return 2;case ws:return 8;case xr:case Nc:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var If=!1,hr=null,fr=null,dr=null,kl=new Map,ql=new Map,mr=[],vT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(t,n){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function jl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=jn(n),n!==null&&oy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function ET(t,n,r,l,c){switch(n){case"focusin":return hr=jl(hr,t,n,r,l,c),!0;case"dragenter":return fr=jl(fr,t,n,r,l,c),!0;case"mouseover":return dr=jl(dr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return kl.set(f,jl(kl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,ql.set(f,jl(ql.get(f)||null,t,n,r,l,c)),!0}return!1}function hy(t){var n=mi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Ao(t.priority,function(){if(r.tag===13){var l=dn();l=ji(l);var c=Ys(r,l);c!==null&&mn(c,r,l),Rf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_i=l,r.target.dispatchEvent(l),_i=null}else return n=jn(r),n!==null&&oy(n),t.blockedOn=r,!1;n.shift()}return!0}function fy(t,n,r){zu(t)&&r.delete(n)}function TT(){If=!1,hr!==null&&zu(hr)&&(hr=null),fr!==null&&zu(fr)&&(fr=null),dr!==null&&zu(dr)&&(dr=null),kl.forEach(fy),ql.forEach(fy)}function Bu(t,n){t.blockedOn===n&&(t.blockedOn=null,If||(If=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,TT)))}var ku=null;function dy(t){ku!==t&&(ku=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ku===t&&(ku=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Df(l||r)===null)continue;break}var f=jn(r);f!==null&&(t.splice(n,3),n-=3,Ch(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Hl(t){function n(b){return Bu(b,t)}hr!==null&&Bu(hr,t),fr!==null&&Bu(fr,t),dr!==null&&Bu(dr,t),kl.forEach(n),ql.forEach(n);for(var r=0;r<mr.length;r++){var l=mr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<mr.length&&(r=mr[0],r.blockedOn===null);)hy(r),r.blockedOn===null&&mr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ge]||null;if(typeof f=="function")y||dy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ge]||null)E=y.formAction;else if(Df(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),dy(r)}}}function Vf(t){this._internalRoot=t}qu.prototype.render=Vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=dn();ay(r,l,t,n,null,null)},qu.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ay(t.current,2,null,t,null,null),Au(),n[yn]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Hi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<mr.length&&n!==0&&n<mr[r].priority;r++);mr.splice(r,0,t),r===0&&hy(t)}};var my=e.version;if(my!=="19.1.0")throw Error(a(527,my,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var AT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{ae=ju.inject(AT),jt=ju}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Vg,f=Ng,y=Og,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ry(t,1,!1,null,null,r,l,c,f,y,E,null),t[yn]=n.current,ff(t),new Vf(n)},Fl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Vg,y=Ng,E=Og,b=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=ry(t,1,!0,n,r??null,l,c,f,y,E,b,z),n.context=sy(null),r=n.current,l=dn(),l=ji(l),c=$i(l),c.callback=null,Ji(r,c,l),r=l,n.current.lanes=r,di(n,r),ni(n),t[yn]=n.current,ff(t),new qu(n)},Fl.version="19.1.0",Fl}var by;function OT(){if(by)return Mf.exports;by=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Mf.exports=NT(),Mf.exports}var MT=OT();const xT=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},UT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},j_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=h>>2,D=(h&3)<<4|g>>4;let N=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(N=64)),a.push(i[A],i[D],i[N],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(q_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):UT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const D=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||v==null||D==null)throw new LT;const N=h<<2|g>>4;if(a.push(N),v!==64){const j=g<<4&240|v>>2;if(a.push(j),D!==64){const K=v<<6&192|D;a.push(K)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class LT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PT=function(s){const e=q_(s);return j_.encodeByteArray(e,!0)},ic=function(s){return PT(s).replace(/\./g,"")},zT=function(s){try{return j_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=()=>BT().__FIREBASE_DEFAULTS__,qT=()=>{if(typeof process>"u"||typeof Ry>"u")return;const s=Ry.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&zT(s[1]);return e&&JSON.parse(e)},yd=()=>{try{return xT()||kT()||qT()||jT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},HT=s=>{var e,i;return(i=(e=yd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},H_=s=>{const e=HT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},G_=()=>{var s;return(s=yd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F_(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[ic(JSON.stringify(i)),ic(JSON.stringify(d)),""].join(".")}const Zl={};function FT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?s.emulator.push(e):s.prod.push(e);return s}function QT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let wy=!1;function Y_(s,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Zl[s]===e||Zl[s]||wy)return;Zl[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",h=FT().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,j){N.setAttribute("width","24"),N.setAttribute("id",j),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{wy=!0,d()},N}function A(N,j){N.setAttribute("id",j),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function D(){const N=QT(a),j=i("text"),K=document.getElementById(j)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),yt=i("preprendIcon"),lt=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const at=N.element;g(at),A(Z,tt);const dt=v();_(lt,yt),at.append(lt,K,Z,dt),document.body.appendChild(at)}h?(K.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XT(){var s;const e=(s=yd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KT(){return!XT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZT(){try{return typeof indexedDB=="object"}catch{return!1}}function $T(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="FirebaseError";class Es extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=JT,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X_.prototype.create)}}class X_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?WT(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Es(o,g,a)}}function WT(s,e){return s.replace(t1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const t1=/\{\$([^}]+)}/g;function rc(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(Cy(h)&&Cy(d)){if(!rc(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Cy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(s){return s&&s._delegate?s._delegate:s}class Ra{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new GT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i1(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:n1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n1(s){return s===ms?void 0:s}function i1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new e1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const s1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},a1=Lt.INFO,l1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},o1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=l1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=a1,this._logHandler=o1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const u1=(s,e)=>e.some(i=>s instanceof i);let Dy,Iy;function c1(){return Dy||(Dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h1(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,Yf=new WeakMap,$_=new WeakMap,Pf=new WeakMap,_d=new WeakMap;function f1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(_r(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z_.set(i,s)}).catch(()=>{}),_d.set(e,s),e}function d1(s){if(Yf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Yf.set(s,e)}let Xf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Yf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||$_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function m1(s){Xf=s(Xf)}function g1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(zf(this),e,...i);return $_.set(a,e.sort?e.sort():[e]),_r(a)}:h1().includes(s)?function(...e){return s.apply(zf(this),e),_r(Z_.get(this))}:function(...e){return _r(s.apply(zf(this),e))}}function p1(s){return typeof s=="function"?g1(s):(s instanceof IDBTransaction&&d1(s),u1(s,c1())?new Proxy(s,Xf):s)}function _r(s){if(s instanceof IDBRequest)return f1(s);if(Pf.has(s))return Pf.get(s);const e=p1(s);return e!==s&&(Pf.set(s,e),_d.set(e,s)),e}const zf=s=>_d.get(s);function y1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const _1=["get","getKey","getAll","getAllKeys","count"],v1=["put","add","delete","clear"],Bf=new Map;function Vy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Bf.get(e))return Bf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=v1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||_1.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Bf.set(e,h),h}m1(s=>({...s,get:(e,i,a)=>Vy(e,i)||s.get(e,i,a),has:(e,i)=>!!Vy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(T1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function T1(s){const e=s.getComponent();return e?.type==="VERSION"}const Kf="@firebase/app",Ny="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new K_("@firebase/app"),A1="@firebase/app-compat",S1="@firebase/analytics-compat",b1="@firebase/analytics",R1="@firebase/app-check-compat",w1="@firebase/app-check",C1="@firebase/auth",D1="@firebase/auth-compat",I1="@firebase/database",V1="@firebase/data-connect",N1="@firebase/database-compat",O1="@firebase/functions",M1="@firebase/functions-compat",x1="@firebase/installations",U1="@firebase/installations-compat",L1="@firebase/messaging",P1="@firebase/messaging-compat",z1="@firebase/performance",B1="@firebase/performance-compat",k1="@firebase/remote-config",q1="@firebase/remote-config-compat",j1="@firebase/storage",H1="@firebase/storage-compat",G1="@firebase/firestore",F1="@firebase/ai",Q1="@firebase/firestore-compat",Y1="firebase",X1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",K1={[Kf]:"fire-core",[A1]:"fire-core-compat",[b1]:"fire-analytics",[S1]:"fire-analytics-compat",[w1]:"fire-app-check",[R1]:"fire-app-check-compat",[C1]:"fire-auth",[D1]:"fire-auth-compat",[I1]:"fire-rtdb",[V1]:"fire-data-connect",[N1]:"fire-rtdb-compat",[O1]:"fire-fn",[M1]:"fire-fn-compat",[x1]:"fire-iid",[U1]:"fire-iid-compat",[L1]:"fire-fcm",[P1]:"fire-fcm-compat",[z1]:"fire-perf",[B1]:"fire-perf-compat",[k1]:"fire-rc",[q1]:"fire-rc-compat",[j1]:"fire-gcs",[H1]:"fire-gcs-compat",[G1]:"fire-fst",[Q1]:"fire-fst-compat",[F1]:"fire-vertex","fire-js":"fire-js",[Y1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,Z1=new Map,$f=new Map;function Oy(s,e){try{s.container.addComponent(e)}catch(i){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function no(s){const e=s.name;if($f.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,s);for(const i of sc.values())Oy(i,s);for(const i of Z1.values())Oy(i,s);return!0}function J_(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function W_(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new X_("app","Firebase",$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=X1;function ev(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Zf,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=G_()),!i)throw vr.create("no-options");const h=sc.get(o);if(h){if(rc(i,h.options)&&rc(a,h.config))return h;throw vr.create("duplicate-app",{appName:o})}const d=new r1(o);for(const _ of $f.values())d.addComponent(_);const g=new J1(i,a,d);return sc.set(o,g),g}function nv(s=Zf){const e=sc.get(s);if(!e&&s===Zf&&G_())return ev();if(!e)throw vr.create("no-app",{appName:s});return e}function Er(s,e,i){var a;let o=(a=K1[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(g.join(" "));return}no(new Ra(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="firebase-heartbeat-database",tA=1,io="firebase-heartbeat-store";let kf=null;function iv(){return kf||(kf=y1(W1,tA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),kf}async function eA(s){try{const i=(await iv()).transaction(io),a=await i.objectStore(io).get(rv(s));return await i.done,a}catch(e){if(e instanceof Es)zi.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e?.message});zi.warn(i.message)}}}async function My(s,e){try{const a=(await iv()).transaction(io,"readwrite");await a.objectStore(io).put(e,rv(s)),await a.done}catch(i){if(i instanceof Es)zi.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i?.message});zi.warn(a.message)}}}function rv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=1024,iA=30;class rA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new aA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=xy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>iA){const d=lA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){zi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=xy(),{heartbeatsToSend:a,unsentEntries:o}=sA(this._heartbeatsCache.heartbeats),h=ic(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return zi.warn(i),""}}}function xy(){return new Date().toISOString().substring(0,10)}function sA(s,e=nA){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Uy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Uy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class aA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZT()?$T().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return My(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return My(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Uy(s){return ic(JSON.stringify({version:2,heartbeats:s})).length}function lA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(s){no(new Ra("platform-logger",e=>new E1(e),"PRIVATE")),no(new Ra("heartbeat",e=>new rA(e),"PRIVATE")),Er(Kf,Ny,s),Er(Kf,Ny,"esm2017"),Er("fire-js","")}oA("");var uA="firebase",cA="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(uA,cA,"app");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,sv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function C(){}C.prototype=S.prototype,M.D=S.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(O,x,w){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return S.prototype[x].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,C){C||(C=0);var O=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)O[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;16>x;++x)O[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=M.g[0],C=M.g[1],x=M.g[2];var w=M.g[3],R=S+(w^C&(x^w))+O[0]+3614090360&4294967295;S=C+(R<<7&4294967295|R>>>25),R=w+(x^S&(C^x))+O[1]+3905402710&4294967295,w=S+(R<<12&4294967295|R>>>20),R=x+(C^w&(S^C))+O[2]+606105819&4294967295,x=w+(R<<17&4294967295|R>>>15),R=C+(S^x&(w^S))+O[3]+3250441966&4294967295,C=x+(R<<22&4294967295|R>>>10),R=S+(w^C&(x^w))+O[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=w+(x^S&(C^x))+O[5]+1200080426&4294967295,w=S+(R<<12&4294967295|R>>>20),R=x+(C^w&(S^C))+O[6]+2821735955&4294967295,x=w+(R<<17&4294967295|R>>>15),R=C+(S^x&(w^S))+O[7]+4249261313&4294967295,C=x+(R<<22&4294967295|R>>>10),R=S+(w^C&(x^w))+O[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=w+(x^S&(C^x))+O[9]+2336552879&4294967295,w=S+(R<<12&4294967295|R>>>20),R=x+(C^w&(S^C))+O[10]+4294925233&4294967295,x=w+(R<<17&4294967295|R>>>15),R=C+(S^x&(w^S))+O[11]+2304563134&4294967295,C=x+(R<<22&4294967295|R>>>10),R=S+(w^C&(x^w))+O[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=w+(x^S&(C^x))+O[13]+4254626195&4294967295,w=S+(R<<12&4294967295|R>>>20),R=x+(C^w&(S^C))+O[14]+2792965006&4294967295,x=w+(R<<17&4294967295|R>>>15),R=C+(S^x&(w^S))+O[15]+1236535329&4294967295,C=x+(R<<22&4294967295|R>>>10),R=S+(x^w&(C^x))+O[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=w+(C^x&(S^C))+O[6]+3225465664&4294967295,w=S+(R<<9&4294967295|R>>>23),R=x+(S^C&(w^S))+O[11]+643717713&4294967295,x=w+(R<<14&4294967295|R>>>18),R=C+(w^S&(x^w))+O[0]+3921069994&4294967295,C=x+(R<<20&4294967295|R>>>12),R=S+(x^w&(C^x))+O[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=w+(C^x&(S^C))+O[10]+38016083&4294967295,w=S+(R<<9&4294967295|R>>>23),R=x+(S^C&(w^S))+O[15]+3634488961&4294967295,x=w+(R<<14&4294967295|R>>>18),R=C+(w^S&(x^w))+O[4]+3889429448&4294967295,C=x+(R<<20&4294967295|R>>>12),R=S+(x^w&(C^x))+O[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=w+(C^x&(S^C))+O[14]+3275163606&4294967295,w=S+(R<<9&4294967295|R>>>23),R=x+(S^C&(w^S))+O[3]+4107603335&4294967295,x=w+(R<<14&4294967295|R>>>18),R=C+(w^S&(x^w))+O[8]+1163531501&4294967295,C=x+(R<<20&4294967295|R>>>12),R=S+(x^w&(C^x))+O[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=w+(C^x&(S^C))+O[2]+4243563512&4294967295,w=S+(R<<9&4294967295|R>>>23),R=x+(S^C&(w^S))+O[7]+1735328473&4294967295,x=w+(R<<14&4294967295|R>>>18),R=C+(w^S&(x^w))+O[12]+2368359562&4294967295,C=x+(R<<20&4294967295|R>>>12),R=S+(C^x^w)+O[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=w+(S^C^x)+O[8]+2272392833&4294967295,w=S+(R<<11&4294967295|R>>>21),R=x+(w^S^C)+O[11]+1839030562&4294967295,x=w+(R<<16&4294967295|R>>>16),R=C+(x^w^S)+O[14]+4259657740&4294967295,C=x+(R<<23&4294967295|R>>>9),R=S+(C^x^w)+O[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=w+(S^C^x)+O[4]+1272893353&4294967295,w=S+(R<<11&4294967295|R>>>21),R=x+(w^S^C)+O[7]+4139469664&4294967295,x=w+(R<<16&4294967295|R>>>16),R=C+(x^w^S)+O[10]+3200236656&4294967295,C=x+(R<<23&4294967295|R>>>9),R=S+(C^x^w)+O[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=w+(S^C^x)+O[0]+3936430074&4294967295,w=S+(R<<11&4294967295|R>>>21),R=x+(w^S^C)+O[3]+3572445317&4294967295,x=w+(R<<16&4294967295|R>>>16),R=C+(x^w^S)+O[6]+76029189&4294967295,C=x+(R<<23&4294967295|R>>>9),R=S+(C^x^w)+O[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=w+(S^C^x)+O[12]+3873151461&4294967295,w=S+(R<<11&4294967295|R>>>21),R=x+(w^S^C)+O[15]+530742520&4294967295,x=w+(R<<16&4294967295|R>>>16),R=C+(x^w^S)+O[2]+3299628645&4294967295,C=x+(R<<23&4294967295|R>>>9),R=S+(x^(C|~w))+O[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=w+(C^(S|~x))+O[7]+1126891415&4294967295,w=S+(R<<10&4294967295|R>>>22),R=x+(S^(w|~C))+O[14]+2878612391&4294967295,x=w+(R<<15&4294967295|R>>>17),R=C+(w^(x|~S))+O[5]+4237533241&4294967295,C=x+(R<<21&4294967295|R>>>11),R=S+(x^(C|~w))+O[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=w+(C^(S|~x))+O[3]+2399980690&4294967295,w=S+(R<<10&4294967295|R>>>22),R=x+(S^(w|~C))+O[10]+4293915773&4294967295,x=w+(R<<15&4294967295|R>>>17),R=C+(w^(x|~S))+O[1]+2240044497&4294967295,C=x+(R<<21&4294967295|R>>>11),R=S+(x^(C|~w))+O[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=w+(C^(S|~x))+O[15]+4264355552&4294967295,w=S+(R<<10&4294967295|R>>>22),R=x+(S^(w|~C))+O[6]+2734768916&4294967295,x=w+(R<<15&4294967295|R>>>17),R=C+(w^(x|~S))+O[13]+1309151649&4294967295,C=x+(R<<21&4294967295|R>>>11),R=S+(x^(C|~w))+O[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=w+(C^(S|~x))+O[11]+3174756917&4294967295,w=S+(R<<10&4294967295|R>>>22),R=x+(S^(w|~C))+O[2]+718787259&4294967295,x=w+(R<<15&4294967295|R>>>17),R=C+(w^(x|~S))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+w&4294967295}a.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var C=S-this.blockSize,O=this.B,x=this.h,w=0;w<S;){if(x==0)for(;w<=C;)o(this,M,w),w+=this.blockSize;if(typeof M=="string"){for(;w<S;)if(O[x++]=M.charCodeAt(w++),x==this.blockSize){o(this,O),x=0;break}}else for(;w<S;)if(O[x++]=M[w++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=S},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var C=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=C&255,C/=256;for(this.u(M),M=Array(16),S=C=0;4>S;++S)for(var O=0;32>O;O+=8)M[C++]=this.g[S]>>>O&255;return M};function h(M,S){var C=g;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=S(M)}function d(M,S){this.h=S;for(var C=[],O=!0,x=M.length-1;0<=x;x--){var w=M[x]|0;O&&w==S||(C[x]=w,O=!1)}this.g=C}var g={};function _(M){return-128<=M&&128>M?h(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return D;if(0>M)return Z(v(-M));for(var S=[],C=1,O=0;M>=C;O++)S[O]=M/C|0,C*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(S,8)),O=D,x=0;x<M.length;x+=8){var w=Math.min(8,M.length-x),R=parseInt(M.substring(x,x+w),S);8>w?(w=v(Math.pow(S,w)),O=O.j(w).add(v(R))):(O=O.j(C),O=O.add(v(R)))}return O}var D=_(0),N=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-Z(this).m();for(var M=0,S=1,C=0;C<this.g.length;C++){var O=this.i(C);M+=(0<=O?O:4294967296+O)*S,S*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(K(this))return"0";if(tt(this))return"-"+Z(this).toString(M);for(var S=v(Math.pow(M,6)),C=this,O="";;){var x=dt(C,S).g;C=yt(C,x.j(S));var w=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=x,K(C))return w+O;for(;6>w.length;)w="0"+w;O=w+O}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function K(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function tt(M){return M.h==-1}s.l=function(M){return M=yt(this,M),tt(M)?-1:K(M)?0:1};function Z(M){for(var S=M.g.length,C=[],O=0;O<S;O++)C[O]=~M.g[O];return new d(C,~M.h).add(N)}s.abs=function(){return tt(this)?Z(this):this},s.add=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],O=0,x=0;x<=S;x++){var w=O+(this.i(x)&65535)+(M.i(x)&65535),R=(w>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);O=R>>>16,w&=65535,R&=65535,C[x]=R<<16|w}return new d(C,C[C.length-1]&-2147483648?-1:0)};function yt(M,S){return M.add(Z(S))}s.j=function(M){if(K(this)||K(M))return D;if(tt(this))return tt(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(tt(M))return Z(this.j(Z(M)));if(0>this.l(j)&&0>M.l(j))return v(this.m()*M.m());for(var S=this.g.length+M.g.length,C=[],O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<M.g.length;x++){var w=this.i(O)>>>16,R=this.i(O)&65535,se=M.i(x)>>>16,Ft=M.i(x)&65535;C[2*O+2*x]+=R*Ft,lt(C,2*O+2*x),C[2*O+2*x+1]+=w*Ft,lt(C,2*O+2*x+1),C[2*O+2*x+1]+=R*se,lt(C,2*O+2*x+1),C[2*O+2*x+2]+=w*se,lt(C,2*O+2*x+2)}for(O=0;O<S;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=S;O<2*S;O++)C[O]=0;return new d(C,0)};function lt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function at(M,S){this.g=M,this.h=S}function dt(M,S){if(K(S))throw Error("division by zero");if(K(M))return new at(D,D);if(tt(M))return S=dt(Z(M),S),new at(Z(S.g),Z(S.h));if(tt(S))return S=dt(M,Z(S)),new at(Z(S.g),S.h);if(30<M.g.length){if(tt(M)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=N,O=S;0>=O.l(M);)C=gt(C),O=gt(O);var x=Dt(C,1),w=Dt(O,1);for(O=Dt(O,2),C=Dt(C,2);!K(O);){var R=w.add(O);0>=R.l(M)&&(x=x.add(C),w=R),O=Dt(O,1),C=Dt(C,1)}return S=yt(M,x.j(S)),new at(x,S)}for(x=D;0<=M.l(S);){for(C=Math.max(1,Math.floor(M.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),w=v(C),R=w.j(S);tt(R)||0<R.l(M);)C-=O,w=v(C),R=w.j(S);K(w)&&(w=N),x=x.add(w),M=yt(M,R)}return new at(x,M)}s.A=function(M){return dt(this,M).h},s.and=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)&M.i(O);return new d(C,this.h&M.h)},s.or=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)|M.i(O);return new d(C,this.h|M.h)},s.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)^M.i(O);return new d(C,this.h^M.h)};function gt(M){for(var S=M.g.length+1,C=[],O=0;O<S;O++)C[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(C,M.h)}function Dt(M,S){var C=S>>5;S%=32;for(var O=M.g.length-C,x=[],w=0;w<O;w++)x[w]=0<S?M.i(w+C)>>>S|M.i(w+C+1)<<32-S:M.i(w+C);return new d(x,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,sv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Tr=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var av,Yl,lv,$u,Jf,ov,uv,cv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function D(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function N(u,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,N.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function K(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var W=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)W[Ot-2]=arguments[Ot];return m.prototype[L].apply(T,W)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let W=0;W<q;W++)u[L+W]=T[W]}else u.push(T)}}class yt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function dt(u){return dt[" "](u),u}dt[" "]=function(){};var gt=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function Dt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<C.length;q++)p=C[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function x(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function w(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class se{constructor(){this.h=this.g=null}add(m,p){const T=Ft.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Ft=new yt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,zt=new se,I=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then($)}};var $=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){w(p)}var m=Ft;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function wt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(gt){t:{try{dt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}K(wt,J);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),$t=0;function kn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++$t,this.da=this.fa=!1}function qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,p,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=Or(u,m,T,L);return-1<W?(m=u[W],p||(m.fa=!1)):(m=new kn(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function Nr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(qi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Or(u,m,p,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Mr="closure_lm_"+(1e6*Math.random()|0),La={};function vo(u,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)vo(u,m[q],p,T,L);return null}return p=Eo(p),u&&u[De]?u.K(m,p,v(T)?!!T.capture:!1,L):pn(u,m,p,!1,T,L)}function pn(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,Ot=Cs(u);if(Ot||(u[Mr]=Ot=new hi(u)),p=Ot.add(m,p,T,W,q),p.proxy)return p;if(T=Vc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ht||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(xr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Vc(){function u(p){return m.call(u.src,u.listener,p)}const m=Nc;return u}function Pa(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Pa(u,m[q],p,T,L);else T=v(T)?!!T.capture:!!T,p=Eo(p),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Or(q,p,T,L),-1<p&&(qi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Cs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Or(m,p,T,L)),(p=-1<u?m[u]:null)&&ws(p))}function ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Nr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(xr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Cs(m))?(Nr(p,u),p.h==0&&(p.src=null,m[Mr]=null)):qi(u)}}}function xr(u){return u in La?La[u]:La[u]="on"+u}function Nc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&ws(u),u=p.call(T,m)}return u}function Cs(u){return u=u[Mr],u instanceof hi?u:null}var za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eo(u){return typeof u=="function"?u:(u[za]||(u[za]=function(m){return u.handleEvent(m)}),u[za])}function ae(){nt.call(this),this.i=new hi(this),this.M=this,this.F=null}K(ae,nt),ae.prototype[De]=!0,ae.prototype.removeEventListener=function(u,m,p,T){Pa(this,u,m,p,T)};function jt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var L=m;m=new J(T,u),O(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];L=an(W,T,!0,m)&&L}if(W=m.g=u,L=an(W,T,!0,m)&&L,L=an(W,T,!1,m)&&L,p)for(q=0;q<p.length;q++)W=m.g=p[q],L=an(W,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)qi(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function an(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var Ot=W.listener,Se=W.ha||W.src;W.fa&&Nr(u.i,W),L=Ot.call(Se,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ge(u,m,p){if(typeof u=="function")p&&(u=N(u,p));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function To(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,To(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Oc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:To(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(u){nt.call(this),this.h=u,this.g={}}K(Ur,nt);var Lr=[];function Pr(u){Dt(u.g,function(m,p){this.g.hasOwnProperty(p)&&ws(m)},u),u.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),Pr(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,Ds=g.JSON.parse,zr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ba(){}Ba.prototype.h=null;function ka(u){return u.h||(u.h=u.i())}function qa(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){J.call(this,"d")}K(di,J);function ja(){J.call(this,"c")}K(ja,J);var qn={},Ha=null;function ji(){return Ha=Ha||new ae}qn.La="serverreachability";function Is(u){J.call(this,qn.La,u)}K(Is,J);function Hi(u){const m=ji();jt(m,new Is(m))}qn.STAT_EVENT="statevent";function Ao(u,m){J.call(this,qn.STAT_EVENT,u),this.stat=m}K(Ao,J);function ee(u){const m=ji();jt(m,new Ao(m,u))}qn.Ma="timingevent";function Ae(u,m){J.call(this,qn.Ma,u),this.size=m}K(Ae,J);function ge(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Ga(u,m,p,T,L,q){u.info(function(){if(u.g)if(q)for(var W="",Ot=q.split("&"),Se=0;Se<Ot.length;Se++){var Mt=Ot[Se].split("=");if(1<Mt.length){var Ve=Mt[0];Mt=Mt[1];var be=Ve.split("_");W=2<=be.length&&be[1]=="type"?W+(Ve+"="+Mt+"&"):W+(Ve+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function Mc(u,m,p,T,L,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+W})}function Gi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Br(u,p)+(T?" "+T:"")})}function So(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Br(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return On(p)}catch{return m}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Hn(){}K(Hn,Ba),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},jn=new Hn;function Ze(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var Fa={},Vs={};function Mn(u,m,p){u.L=1,u.v=Gr(ln(m)),u.m=p,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),kr(u),u.A=ln(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),$a(p.i,"t",T),u.C=0,p=u.j.J,u.h=new he,u.g=Bo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Oc(N(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Lr[0]=L.toString()),L=Lr);for(var q=0;q<L.length;q++){var W=vo(p,L[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Hi(),Ga(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const be=Tn(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||No(this.g)))){this.J||be!=4||m==7||(m==8||0>=Si?Hi(3):Hi(2)),Qi(this);var p=this.g.Z();this.X=p;e:if(bo(this)){var T=No(this.g);u="";var L=T.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Gn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Mc(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Se=this.g;if((Ot=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Gi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,p);else{this.o=!1,this.s=3,ee(12),Le(this),Gn(this);break t}}if(this.P){p=!0;let Pe;for(;!this.J&&this.C<W.length;)if(Pe=Ro(this,W),Pe==Vs){be==4&&(this.s=4,ee(14),p=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==Fa){this.s=4,ee(15),Gi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Gi(this.i,this.l,Pe,null),qr(this,Pe);if(bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||W.length!=0||this.h.h||(this.s=1,ee(16),p=!1),this.o=this.o&&p,!p)Gi(this.i,this.l,W,"[Invalid Chunked Response]"),Le(this),Gn(this);else if(0<W.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Jr(Ve),Ve.M=!0,ee(11))}}else Gi(this.i,this.l,W,null),qr(this,W);be==4&&Le(this),this.o&&!this.J&&(be==4?Lo(this.j,this):(this.o=!1,kr(this)))}else zc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Le(this),Gn(this)}}}catch{}finally{}};function bo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ro(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Vs:(p=Number(m.substring(p,T)),isNaN(p)?Fa:(T+=1,T+p>m.length?Vs:(m=m.slice(T,T+p),u.C=T+p,m)))}Ze.prototype.cancel=function(){this.J=!0,Le(this)};function kr(u){u.S=Date.now()+u.I,wo(u,u.I)}function wo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(N(u.ba,u),m)}function Qi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(So(this.i,this.A),this.L!=2&&(Hi(),ee(17)),Le(this),this.s=2,Gn(this)):wo(this,this.S-u)};function Gn(u){u.j.G==0||u.J||Lo(u.j,u)}function Le(u){Qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function qr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Qa(p.h,u))){if(!u.K&&Qa(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)js(p),ks(p);else break t;nl(p),ee(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=ge(N(p.Za,p),6e3));if(1>=Os(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ai(p,11)}else if((u.K||p.g==u)&&js(p),!lt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ve=Mt[3];Ve!=null&&(p.la=Ve,p.j.info("VER="+p.la));const be=Mt[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const Si=Mt[5];Si!=null&&typeof Si=="number"&&0<Si&&(T=1.5*Si,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Pe=u.g;if(Pe){const $n=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var q=T.h;q.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ms(q,q.h),q.h=null))}if(T.D){const rl=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(T.ya=rl,Qt(T.I,T.D,rl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=u;if(T.qa=zo(T,T.J?T.ia:null,T.W),W.K){$e(T.h,W);var Ot=W,Se=T.L;Se&&(Ot.I=Se),Ot.B&&(Qi(Ot),kr(Ot)),T.g=W}else xo(T);0<p.i.length&&qs(p)}else Mt[0]!="stop"&&Mt[0]!="close"||Ai(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ai(p,7):tl(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Hi(4)}catch{}}var Co=class{constructor(u,m){this.g=u,this.map=m}};function pi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ns(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Os(u){return u.h?1:u.g?u.g.size:0}function Qa(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ms(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pi.prototype.cancel=function(){if(this.i=Ya(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ya(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function xc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function xs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Xa(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=xs(u),T=xc(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],u)}var jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var q=u[p].substring(0,T);L=u[p].substring(T+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,Hr(this,u.j),this.o=u.o,this.g=u.g,Yi(this,u.s),this.l=u.l;var m=u.i,p=new _i;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),yi(this,p),this.m=u.m}else u&&(m=String(u).match(jr))?(this.h=!1,Hr(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Yi(this,m[4]),this.l=_n(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Fr(m,Ka,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Fr(m,Ka,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Fr(p,p.charAt(0)=="/"?Lc:Za,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Fr(p,Us)),u.join("")};function ln(u){return new pe(u)}function Hr(u,m,p){u.j=p?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Yi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,p){m instanceof _i?(u.i=m,Io(u.i,u.h)):(p||(m=Fr(m,Pc)),u.i=new _i(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function Gr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Do),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Do(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ka=/[#\/\?@]/g,Za=/[#\?:]/g,Lc=/[#\?]/g,Pc=/[#\?@]/g,Us=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Uc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=_i.prototype,s.add=function(u,m){vn(this),this.i=null,u=Fn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function vi(u,m){vn(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return vn(u),m=Fn(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},s.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},s.V=function(u){vn(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return vn(this),this.i=null,u=Fn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function $a(u,m,p){vi(u,m),0<p.length&&(u.i=null,u.g.set(Fn(u,m),tt(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=q;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),u.push(L)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Io(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(vi(this,T),$a(this,L,p))},u)),u.j=m}function Qr(u,m){const p=new yn;if(g.Image){const T=new Image;T.onload=j(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(En,p,"TestLoadImage: error",!1,m,T),T.onabort=j(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(En,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xn(u,m){const p=new yn,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Yr(){this.g=new zr}function Qn(u,m,p){const T=p||"";try{Xa(u,function(L,q){let W=L;v(L)&&(W=On(L)),m.push(T+q+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Xi(u){this.l=u.Ub||null,this.j=u.eb||!1}K(Xi,Ba),Xi.prototype.g=function(){return new Ti(this.l,this.j)},Xi.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(Ti,ae),s=Ti.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ja(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ja(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&Ja(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},s.Qa=function(u){this.g&&(this.response=u,Yn(this))},s.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wa(u){let m="";return Dt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ie(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Wa(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function kt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(kt,ae);var Ls=/^https?$/i,Xr=["POST","PUT"];s=kt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?ka(this.o):ka(jn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Vo(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Xr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Vo(this,q)}};function Vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ps(u),Kn(u)}function Ps(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Kn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?zs(this):this.bb())},s.bb=function(){zs(this)};function zs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Ge(u.Ea,0,u);else if(jt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(u.D).match(jr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ls.test(L?L.toLowerCase():"")}p=T}if(p)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<Tn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ps(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Kr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Kr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ds(m)}};function No(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zc(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(lt(u[T]))continue;var p=x(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Bs(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new Yr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Bs.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){ee(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=zo(this,null,this.W),qs(this)};function tl(u){if(Oo(u),u.G==3){var m=u.U++,p=ln(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),$r(u,p),m=new Ze(u,u.j,m),m.L=2,m.v=Gr(ln(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Bo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),kr(m)}Po(u)}function ks(u){u.g&&(Jr(u),u.g.cancel(),u.g=null)}function Oo(u){ks(u),u.u&&(g.clearTimeout(u.u),u.u=null),js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function qs(u){if(!Ns(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||I(),ut||(et(),ut=!0),zt.add(m,u),u.B=0}}function Bc(u,m){return Os(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(N(u.Ga,u,m),il(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ze(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Mo(this,L,m),p=ln(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),$r(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Wa(q)))+"&"+m:this.m&&Ie(p,this.m,q)),Ms(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,Mn(L,p,null)):Mn(L,p,m),this.G=2}}else this.G==3&&(u?el(this,u):this.i.length==0||Ns(this.h)||el(this))};function el(u,m){var p;m?p=m.l:p=u.U++;const T=ln(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),$r(u,T),u.m&&u.o&&Ie(T,u.m,u.o),p=new Ze(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Mo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ms(u.h,p),Mn(p,T,m)}function $r(u,m){u.H&&Dt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Xa({},function(p,T){Qt(m,T,p)})}function Mo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?N(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=L[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Ot=!0;for(let Se=0;Se<p;Se++){let Mt=L[Se].g;const Ve=L[Se].map;if(Mt-=q,0>Mt)q=Math.max(0,L[Se].g-100),Ot=!1;else try{Qn(Ve,W,"req"+Mt+"_")}catch{T&&T(Ve)}}if(Ot){T=W.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function xo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||I(),ut||(et(),ut=!0),zt.add(m,u),u.v=0}}function nl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(N(u.Fa,u),il(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Uo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(N(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),ks(this),Uo(this))};function Jr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Uo(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),$r(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Gr(ln(m)),p.m=null,p.P=!0,gi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,ks(this),nl(this),ee(19))};function js(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Lo(u,m){var p=null;if(u.g==m){js(u),Jr(u),u.g=null;var T=2}else if(Qa(u.h,m))p=m.D,$e(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=ji(),jt(T,new Ae(T,p)),qs(u)}else xo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Bc(u,m)||T==2&&nl(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function il(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var p=N(u.fb,u),T=u.Xa;const L=!T;T=new pe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Hr(T,"https"),Gr(T),L?Qr(T.toString(),p):xn(T.toString(),p)}else ee(2);u.G=0,u.l&&u.l.sa(m),Po(u),Oo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Po(u){if(u.G=0,u.ka=[],u.l){const m=Ya(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function zo(u,m,p){var T=p instanceof pe?ln(p):new pe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Yi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new pe(null);T&&Hr(q,T),m&&(q.g=m),L&&Yi(q,L),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),$r(u,T),T}function Bo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Xi({eb:p})):new kt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}s=ko.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ae.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}K(Je,ae),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){tl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=On(u),u=p);m.i.push(new Co(m.Ya++,u)),m.G==3&&qs(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Je.aa.N.call(this)};function qo(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}K(qo,di);function jo(){ja.call(this),this.status=1}K(jo,ja);function Zn(u){this.g=u}K(Zn,ko),Zn.prototype.ua=function(){jt(this.g,"a")},Zn.prototype.ta=function(u){jt(this.g,new qo(u))},Zn.prototype.sa=function(u){jt(this.g,new jo)},Zn.prototype.ra=function(){jt(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,cv=function(){return new Hs},uv=function(){return ji()},ov=qn,Jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,$u=Fi,mi.COMPLETE="complete",lv=mi,qa.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Yl=qa,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,av=kt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Py="@firebase/firestore",zy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new K_("@firebase/firestore");function _a(){return ys.logLevel}function rt(s,...e){if(ys.logLevel<=Lt.DEBUG){const i=e.map(vd);ys.debug(`Firestore (${Na}): ${s}`,...i)}}function Bi(s,...e){if(ys.logLevel<=Lt.ERROR){const i=e.map(vd);ys.error(`Firestore (${Na}): ${s}`,...i)}}function br(s,...e){if(ys.logLevel<=Lt.WARN){const i=e.map(vd);ys.warn(`Firestore (${Na}): ${s}`,...i)}}function vd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,hv(s,a,i)}function hv(s,e,i){let a=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Bi(a),new Error(a)}function qt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||hv(e,o,a)}function Tt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Xe.UNAUTHENTICATED))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class dA{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ar,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ar)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new fv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class mA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new mA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class By{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,W_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new By(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new By(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=yA(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Rt(s,e){return s<e?-1:s>e?1:0}function Wf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return Rt(a,o);{const h=dv(),d=_A(h.encode(ky(s,i)),h.encode(ky(e,i)));return d!==0?d:Rt(a,o)}}i+=a>65535?2:1}return Rt(s.length,e.length)}function ky(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function _A(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return Rt(s[i],e[i]);return Rt(s.length,e.length)}function wa(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="__name__";class ii{constructor(e,i,a){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&pt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ii.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const a=ii.isNumericId(e),o=ii.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ii.extractNumericId(e).compare(ii.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Wt extends ii{construct(e,i,a){return new Wt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new it(Q.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const vA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ii{construct(e,i,a){return new je(e,i,a)}static isValidIdentifier(e){return vA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qy}static keyField(){return new je([qy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new it(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new it(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Wt.fromString(e))}static fromName(e){return new ct(Wt.fromString(e).popFirst(5))}static empty(){return new ct(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(s,e,i){if(!i)throw new it(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function EA(s,e,i,a){if(e===!0&&a===!0)throw new it(Q.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function jy(s){if(!ct.isDocumentKey(s))throw new it(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Hy(s){if(ct.isDocumentKey(s))throw new it(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function gv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function yc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function ac(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new it(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yc(s);throw new it(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(s,e){const i={typeString:s};return e&&(i.value=e),i}function mo(s,e){if(!gv(s))throw new it(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new it(Q.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=-62135596800,Fy=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Fy);return new te(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Gy)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mo(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Te("string",te._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function TA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new te(i+1,0):new te(i,a));return new Rr(o,ct.empty(),e)}function AA(s){return new Rr(s.readTime,s.key,ro)}class Rr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(Et.min(),ct.empty(),ro)}static max(){return new Rr(Et.max(),ct.empty(),ro)}}function SA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:Rt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==bA)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,a)=>{i(e)})}static reject(e){return new X((i,a)=>{a(e)})}static waitFor(e){return new X((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next(o=>o?X.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new X((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>o(A))}})}static doWhile(e,i){return new X((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function wA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ma(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this._e(a),this.ae=a=>i.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}_c.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=-1;function vc(s){return s==null}function lc(s){return s===0&&1/s==-1/0}function CA(s){return typeof s=="number"&&Number.isInteger(s)&&!lc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="";function DA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Qy(e)),e=IA(s.get(i),e);return Qy(e)}function IA(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case pv:i+="";break;default:i+=h}}return i}function Qy(s){return s+pv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ts(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function yv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||qe.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??qe.RED,this.left=o??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new qe(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Xy(this.data.getIterator())}getIteratorFrom(e){return new Xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class Xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new zn([])}unionWith(e){let i=new Ce(je.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new _v("Invalid base64 string: "+h):h}}(e);return new He(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const VA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=VA.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Cr(s){return typeof s=="string"?He.fromBase64String(s):He.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="server_timestamp",Ev="__type__",Tv="__previous_value__",Av="__local_write_time__";function Ad(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ev])===null||i===void 0?void 0:i.stringValue)===vv}function Ec(s){const e=s.mapValue.fields[Tv];return Ad(e)?Ec(e):e}function so(s){const e=wr(s.mapValue.fields[Av].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i,a,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const oc="(default)";class ao{constructor(e,i){this.projectId=e,this.database=i||oc}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===oc}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="__type__",OA="__max__",Fu={mapValue:{}},bv="__vector__",uc="value";function Dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ad(s)?4:xA(s)?9007199254740991:MA(s)?10:11:pt(28295,{value:s})}function ci(s,e){if(s===e)return!0;const i=Dr(s);if(i!==Dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return so(s).isEqual(so(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=wr(o.timestampValue),g=wr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return Cr(o.bytesValue).isEqual(Cr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),g=me(h.doubleValue);return d===g?lc(d)===lc(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return wa(s.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Yy(d)!==Yy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ci(d[_],g[_])))return!1;return!0}(s,e);default:return pt(52216,{left:s})}}function lo(s,e){return(s.values||[]).find(i=>ci(i,e))!==void 0}function Ca(s,e){if(s===e)return 0;const i=Dr(s),a=Dr(e);if(i!==a)return Rt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=me(h.integerValue||h.doubleValue),_=me(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Ky(s.timestampValue,e.timestampValue);case 4:return Ky(so(s),so(e));case 5:return Wf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Cr(h),_=Cr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Rt(g[v],_[v]);if(A!==0)return A}return Rt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(me(h.latitude),me(d.latitude));return g!==0?g:Rt(me(h.longitude),me(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Zy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const D=h.fields||{},N=d.fields||{},j=(g=D[uc])===null||g===void 0?void 0:g.arrayValue,K=(_=N[uc])===null||_===void 0?void 0:_.arrayValue,tt=Rt(((v=j?.values)===null||v===void 0?void 0:v.length)||0,((A=K?.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:Zy(j,K)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Fu.mapValue&&d===Fu.mapValue)return 0;if(h===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let D=0;D<_.length&&D<A.length;++D){const N=Wf(_[D],A[D]);if(N!==0)return N;const j=Ca(g[_[D]],v[A[D]]);if(j!==0)return j}return Rt(_.length,A.length)}(s.mapValue,e.mapValue);default:throw pt(23264,{le:i})}}function Ky(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Rt(s,e);const i=wr(s),a=wr(e),o=Rt(i.seconds,a.seconds);return o!==0?o:Rt(i.nanos,a.nanos)}function Zy(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ca(i[o],a[o]);if(h)return h}return Rt(i.length,a.length)}function Da(s){return td(s)}function td(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Cr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ct.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=td(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${td(i.fields[d])}`;return o+"}"}(s.mapValue):pt(61005,{value:s})}function Ju(s){switch(Dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ec(s);return e?16+Ju(e):16;case 5:return 2*s.stringValue.length;case 6:return Cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+Ju(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Ts(a.fields,(h,d)=>{o+=h.length+Ju(d)}),o}(s.mapValue);default:throw pt(13486,{value:s})}}function $y(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ed(s){return!!s&&"integerValue"in s}function Sd(s){return!!s&&"arrayValue"in s}function Jy(s){return!!s&&"nullValue"in s}function Wy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Wu(s){return!!s&&"mapValue"in s}function MA(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sv])===null||i===void 0?void 0:i.stringValue)===bv}function $l(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ts(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=$l(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=$l(s.arrayValue.values[i]);return e}return Object.assign({},s)}function xA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Wu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(i)}setAll(e){let i=je.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=$l(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Wu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ts(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new Vn($l(this.value))}}function Rv(s){const e=[];return Ts(s.fields,(i,a)=>{const o=new je([i]);if(Wu(a)){const h=Rv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Et.min(),Et.min(),Et.min(),Vn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ke(e,1,i,Et.min(),a,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Et.min(),Et.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Et.min(),Et.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i){this.position=e,this.inclusive=i}}function t_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Ca(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function e_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ci(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,i="asc"){this.field=e,this.dir=i}}function UA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{}class Ee extends wv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new PA(e,i,a):i==="array-contains"?new kA(e,a):i==="in"?new qA(e,a):i==="not-in"?new jA(e,a):i==="array-contains-any"?new HA(e,a):new Ee(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new zA(e,a):new BA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ca(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(Ca(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends wv{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new Bn(e,i)}matches(e){return Cv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Cv(s){return s.op==="and"}function Dv(s){return LA(s)&&Cv(s)}function LA(s){for(const e of s.filters)if(e instanceof Bn)return!1;return!0}function nd(s){if(s instanceof Ee)return s.field.canonicalString()+s.op.toString()+Da(s.value);if(Dv(s))return s.filters.map(e=>nd(e)).join(",");{const e=s.filters.map(i=>nd(i)).join(",");return`${s.op}(${e})`}}function Iv(s,e){return s instanceof Ee?function(a,o){return o instanceof Ee&&a.op===o.op&&a.field.isEqual(o.field)&&ci(a.value,o.value)}(s,e):s instanceof Bn?function(a,o){return o instanceof Bn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&Iv(d,o.filters[g]),!0):!1}(s,e):void pt(19439)}function Vv(s){return s instanceof Ee?function(i){return`${i.field.canonicalString()} ${i.op} ${Da(i.value)}`}(s):s instanceof Bn?function(i){return i.op.toString()+" {"+i.getFilters().map(Vv).join(" ,")+"}"}(s):"Filter"}class PA extends Ee{constructor(e,i,a){super(e,i,a),this.key=ct.fromName(a.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class zA extends Ee{constructor(e,i){super(e,"in",i),this.keys=Nv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class BA extends Ee{constructor(e,i){super(e,"not-in",i),this.keys=Nv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Nv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ct.fromName(a.referenceValue))}class kA extends Ee{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sd(i)&&lo(i.arrayValue,this.value)}}class qA extends Ee{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class jA extends Ee{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lo(this.value.arrayValue,i)}}class HA extends Ee{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>lo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function n_(s,e=null,i=[],a=[],o=null,h=null,d=null){return new GA(s,e,i,a,o,h,d)}function bd(s){const e=Tt(s);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>nd(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),vc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Da(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Da(a)).join(",")),e.Pe=i}return e.Pe}function Rd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!UA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Iv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!e_(s.startAt,e.startAt)&&e_(s.endAt,e.endAt)}function id(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function FA(s,e,i,a,o,h,d,g){return new xa(s,e,i,a,o,h,d,g)}function Ov(s){return new xa(s)}function i_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Mv(s){return s.collectionGroup!==null}function Jl(s){const e=Tt(s);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(je.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new oo(h,a))}),i.has(je.keyField().canonicalString())||e.Te.push(new oo(je.keyField(),a))}return e.Te}function si(s){const e=Tt(s);return e.Ie||(e.Ie=QA(e,Jl(s))),e.Ie}function QA(s,e){if(s.limitType==="F")return n_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new oo(o.field,h)});const i=s.endAt?new cc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new cc(s.startAt.position,s.startAt.inclusive):null;return n_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function rd(s,e){const i=s.filters.concat([e]);return new xa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function sd(s,e,i){return new xa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Tc(s,e){return Rd(si(s),si(e))&&s.limitType===e.limitType}function xv(s){return`${bd(si(s))}|lt:${s.limitType}`}function va(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>Vv(o)).join(", ")}]`),vc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Da(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Da(o)).join(",")),`Target(${a})`}(si(s))}; limitType=${s.limitType})`}function Ac(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Jl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,g,_){const v=t_(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Jl(a),o)||a.endAt&&!function(d,g,_){const v=t_(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Jl(a),o))}(s,e)}function YA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Uv(s){return(e,i)=>{let a=!1;for(const o of Jl(s)){const h=XA(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function XA(s,e,i){const a=s.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Ca(_,v):pt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return yv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new re(ct.comparator);function ki(){return KA}const Lv=new re(ct.comparator);function Xl(...s){let e=Lv;for(const i of s)e=e.insert(i.key,i);return e}function Pv(s){let e=Lv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function gs(){return Wl()}function zv(){return Wl()}function Wl(){return new As(s=>s.toString(),(s,e)=>s.isEqual(e))}const ZA=new re(ct.comparator),$A=new Ce(ct.comparator);function Nt(...s){let e=$A;for(const i of s)e=e.add(i);return e}const JA=new Ce(Rt);function WA(){return JA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function Bv(s){return{integerValue:""+s}}function tS(s,e){return CA(e)?Bv(e):wd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this._=void 0}}function eS(s,e,i){return s instanceof uo?function(o,h){const d={fields:{[Ev]:{stringValue:vv},[Av]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ad(h)&&(h=Ec(h)),h&&(d.fields[Tv]=h),{mapValue:d}}(i,e):s instanceof co?qv(s,e):s instanceof ho?jv(s,e):function(o,h){const d=kv(o,h),g=r_(d)+r_(o.Ee);return ed(d)&&ed(o.Ee)?Bv(g):wd(o.serializer,g)}(s,e)}function nS(s,e,i){return s instanceof co?qv(s,e):s instanceof ho?jv(s,e):i}function kv(s,e){return s instanceof hc?function(a){return ed(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class uo extends Sc{}class co extends Sc{constructor(e){super(),this.elements=e}}function qv(s,e){const i=Hv(e);for(const a of s.elements)i.some(o=>ci(o,a))||i.push(a);return{arrayValue:{values:i}}}class ho extends Sc{constructor(e){super(),this.elements=e}}function jv(s,e){let i=Hv(e);for(const a of s.elements)i=i.filter(o=>!ci(o,a));return{arrayValue:{values:i}}}class hc extends Sc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function r_(s){return me(s.integerValue||s.doubleValue)}function Hv(s){return Sd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.field=e,this.transform=i}}function rS(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof co&&o instanceof co||a instanceof ho&&o instanceof ho?wa(a.elements,o.elements,ci):a instanceof hc&&o instanceof hc?ci(a.Ee,o.Ee):a instanceof uo&&o instanceof uo}(s.transform,e.transform)}class sS{constructor(e,i){this.version=e,this.transformResults=i}}class Pi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class bc{}function Gv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Qv(s.key,Pi.none()):new go(s.key,s.data,Pi.none());{const i=s.data,a=Vn.empty();let o=new Ce(je.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Ss(s.key,a,new zn(o.toArray()),Pi.none())}}function aS(s,e,i){s instanceof go?function(o,h,d){const g=o.value.clone(),_=a_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Ss?function(o,h,d){if(!tc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=a_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Fv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function to(s,e,i,a){return s instanceof go?function(h,d,g,_){if(!tc(h.precondition,d))return g;const v=h.value.clone(),A=l_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Ss?function(h,d,g,_){if(!tc(h.precondition,d))return g;const v=l_(h.fieldTransforms,_,d),A=d.data;return A.setAll(Fv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(s,e,i,a):function(h,d,g){return tc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function lS(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=kv(a.transform,o||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,h))}return i||null}function s_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&wa(a,o,(h,d)=>rS(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class go extends bc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends bc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Fv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function a_(s,e,i){const a=new Map;qt(s.length===i.length,32656,{Ae:i.length,Re:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,nS(d,g,i[o]))}return a}function l_(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,eS(h,d,e))}return a}class Qv extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oS extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&aS(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=to(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=to(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=zv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Gv(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(i,a)=>s_(i,a))&&wa(this.baseMutations,e.baseMutations,(i,a)=>s_(i,a))}}class Cd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){qt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return ZA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Cd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function fS(s){switch(s){case Q.OK:return pt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function Yv(s){if(s===void 0)return Bi("GRPC error has no .code"),Q.UNKNOWN;switch(s){case ve.OK:return Q.OK;case ve.CANCELLED:return Q.CANCELLED;case ve.UNKNOWN:return Q.UNKNOWN;case ve.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ve.INTERNAL:return Q.INTERNAL;case ve.UNAVAILABLE:return Q.UNAVAILABLE;case ve.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ve.NOT_FOUND:return Q.NOT_FOUND;case ve.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ve.ABORTED:return Q.ABORTED;case ve.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ve.DATA_LOSS:return Q.DATA_LOSS;default:return pt(39323,{code:s})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Tr([4294967295,4294967295],0);function o_(s){const e=dv().encode(s),i=new sv;return i.update(e),new Uint8Array(i.digest())}function u_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([o,h],0)]}class Dd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=Tr.fromNumber(this.fe)}pe(e,i,a){let o=e.add(i.multiply(Tr.fromNumber(a)));return o.compare(dS)===1&&(o=new Tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=o_(e),[a,o]=u_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,o,h);if(!this.ye(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Dd(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=o_(e),[a,o]=u_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,o,h);this.we(d)}}we(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,po.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rc(Et.min(),o,new re(Rt),ki(),Nt())}}class po{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new po(a,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.be=o}}class Xv{constructor(e,i){this.targetId=e,this.De=i}}class Kv{constructor(e,i,a=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class c_{constructor(){this.ve=0,this.Ce=h_(),this.Fe=He.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Nt(),i=Nt(),a=Nt();return this.Ce.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:h})}}),new po(this.Fe,this.Me,e,i,a)}ke(){this.xe=!1,this.Ce=h_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class mS{constructor(e){this.We=e,this.Ge=new Map,this.ze=ki(),this.je=Qu(),this.Je=Qu(),this.He=new re(Rt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const a=this.tt(i);switch(e.state){case 0:this.nt(i)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),a.Be(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((a,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,a=e.De.count,o=this.st(i);if(o){const h=o.target;if(id(h))if(a===0){const d=new ct(h.path);this.Xe(i,d,Ke.newNoDocument(d,Et.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this.ot(i);if(d!==a){const g=this._t(e),_=g?this.ut(g,e,d):1;if(_!==0){this.rt(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Cr(a).toUint8Array()}catch(_){if(_ instanceof _v)return br("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Dd(d,o,h)}catch(_){return br(_ instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.fe===0?null:g}ut(e,i,a){return i.De.count===a-this.ht(e,i.targetId)?0:2}ht(e,i){const a=this.We.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const g=this.st(d);if(g){if(h.current&&id(g.target)){const _=new ct(g.target.path);this.Tt(_).has(d)||this.It(d,_)||this.Xe(d,_,Ke.newNoDocument(_,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let a=Nt();this.Je.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.st(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const o=new Rc(e,i,this.He,this.ze,a);return this.ze=ki(),this.je=Qu(),this.Je=Qu(),this.He=new re(Rt),o}Ze(e,i){if(!this.nt(e))return;const a=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,a),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),a&&(this.ze=this.ze.insert(i,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new c_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Ce(Rt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Ce(Rt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new c_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Qu(){return new re(ct.comparator)}function h_(){return new re(ct.comparator)}const gS={asc:"ASCENDING",desc:"DESCENDING"},pS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yS={and:"AND",or:"OR"};class _S{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ad(s,e){return s.useProto3Json||vc(e)?e:{value:e}}function fc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function vS(s,e){return fc(s,e.toTimestamp())}function ai(s){return qt(!!s,49232),Et.fromTimestamp(function(i){const a=wr(i);return new te(a.seconds,a.nanos)}(s))}function Id(s,e){return ld(s,e).canonicalString()}function ld(s,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function $v(s){const e=Wt.fromString(s);return qt(n0(e),10190,{key:e.toString()}),e}function od(s,e){return Id(s.databaseId,e.path)}function qf(s,e){const i=$v(e);if(i.get(1)!==s.databaseId.projectId)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(Wv(i))}function Jv(s,e){return Id(s.databaseId,e)}function ES(s){const e=$v(s);return e.length===4?Wt.emptyPath():Wv(e)}function ud(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Wv(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function f_(s,e,i){return{name:od(s,e),fields:i.value.mapValue.fields}}function TS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Q.UNKNOWN:Yv(v.code);return new it(A,v.message||"")}(d);i=new Kv(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=qf(s,a.document.name),h=ai(a.document.updateTime),d=a.document.createTime?ai(a.document.createTime):Et.min(),g=new Vn({mapValue:{fields:a.document.fields}}),_=Ke.newFoundDocument(o,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new ec(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=qf(s,a.document),h=a.readTime?ai(a.readTime):Et.min(),d=Ke.newNoDocument(o,h),g=a.removedTargetIds||[];i=new ec([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=qf(s,a.document),h=a.removedTargetIds||[];i=new ec([],h,o,null)}else{if(!("filter"in e))return pt(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new hS(o,h),g=a.targetId;i=new Xv(g,d)}}return i}function AS(s,e){let i;if(e instanceof go)i={update:f_(s,e.key,e.value)};else if(e instanceof Qv)i={delete:od(s,e.key)};else if(e instanceof Ss)i={update:f_(s,e.key,e.data),updateMask:NS(e.fieldMask)};else{if(!(e instanceof oS))return pt(16599,{Rt:e.type});i={verify:od(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof uo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof hc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw pt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:vS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(s,e.precondition)),i}function SS(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(o,h){let d=o.updateTime?ai(o.updateTime):ai(h);return d.isEqual(Et.min())&&(d=ai(h)),new sS(d,o.transformResults||[])}(i,e))):[]}function bS(s,e){return{documents:[Jv(s,e.path)]}}function RS(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Jv(s,o);const h=function(v){if(v.length!==0)return e0(Bn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(N){return{field:Ea(N.field),direction:DS(N.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ad(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{Vt:i,parent:o}}function wS(s){let e=ES(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(D){const N=t0(D);return N instanceof Bn&&Dv(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(N=>function(K){return new oo(Ta(K.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(D){let N;return N=typeof D=="object"?D.value:D,vc(N)?null:N}(i.limit));let _=null;i.startAt&&(_=function(D){const N=!!D.before,j=D.values||[];return new cc(j,N)}(i.startAt));let v=null;return i.endAt&&(v=function(D){const N=!D.before,j=D.values||[];return new cc(j,N)}(i.endAt)),FA(e,o,d,h,g,"F",_,v)}function CS(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function t0(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ta(i.unaryFilter.field);return Ee.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ta(i.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ta(i.unaryFilter.field);return Ee.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ta(i.unaryFilter.field);return Ee.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Ee.create(Ta(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Bn.create(i.compositeFilter.filters.map(a=>t0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(s):pt(30097,{filter:s})}function DS(s){return gS[s]}function IS(s){return pS[s]}function VS(s){return yS[s]}function Ea(s){return{fieldPath:s.canonicalString()}}function Ta(s){return je.fromServerFormat(s.fieldPath)}function e0(s){return s instanceof Ee?function(i){if(i.op==="=="){if(Wy(i.value))return{unaryFilter:{field:Ea(i.field),op:"IS_NAN"}};if(Jy(i.value))return{unaryFilter:{field:Ea(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Wy(i.value))return{unaryFilter:{field:Ea(i.field),op:"IS_NOT_NAN"}};if(Jy(i.value))return{unaryFilter:{field:Ea(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(i.field),op:IS(i.op),value:i.value}}}(s):s instanceof Bn?function(i){const a=i.getFilters().map(o=>e0(o));return a.length===1?a[0]:{compositeFilter:{op:VS(i.op),filters:a}}}(s):pt(54877,{filter:s})}function NS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function n0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,a,o,h=Et.min(),d=Et.min(),g=He.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.gt=e}}function MS(s){const e=wS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.Dn=new US}addToCollectionParentIndex(e,i){return this.Dn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Rr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class US{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ce(Wt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ce(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(i0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ia(0)}static ur(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",LS=1048576;function g_([s,e],[i,a]){const o=Rt(s,i);return o===0?Rt(e,a):o}class PS{constructor(e){this.Tr=e,this.buffer=new Ce(g_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();g_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){rt(m_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ma(i)?rt(m_,"Ignoring IndexedDB error during garbage collection: ",i):await Oa(i)}await this.Rr(3e5)})}}class BS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return X.resolve(_c.ue);const a=new PS(i);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(d_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let a,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,d=Date.now(),this.nthSequenceNumber(e,o))).next(D=>(a=D,g=Date.now(),this.removeTargets(e,a,i))).next(D=>(h=D,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(D=>(v=Date.now(),_a()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${D} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:D})))}}function kS(s,e){return new BS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.changes=new As(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&to(a.mutation,o,zn.empty(),te.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Nt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Nt()){const o=gs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Xl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=gs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Nt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=ki();const d=Wl(),g=function(){return Wl()}();return i.forEach((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Ss)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),to(A.mutation,v,A.mutation.getFieldMask(),te.now())):d.set(v.key,zn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var D;return g.set(v,new jS(A,(D=d.get(v))!==null&&D!==void 0?D:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Wl();let o=new re((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||zn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const D=(o.get(g.batchId)||Nt()).add(_);o=o.insert(g.batchId,D)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,D=zv();A.forEach(N=>{if(!h.has(N)){const j=Gv(i.get(N),a.get(N));j!==null&&D.set(N,j),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,D))}return X.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Mv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):X.resolve(gs());let g=ro,_=h;return d.next(v=>X.forEach(v,(A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(N=>{_=_.insert(A,N)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Nt())).next(A=>({batchId:g,changes:Pv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(a=>{let o=Xl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,h).next(g=>X.forEach(g,_=>{const v=function(D,N){return new xa(N,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(A=>{A.forEach((D,N)=>{d=d.insert(D,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=Xl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&to(A.mutation,v,zn.empty(),te.now()),Ac(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return X.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ai(o.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:MS(o.bundledQuery),readTime:ai(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.overlays=new re(ct.comparator),this.kr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=gs();return X.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.wt(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=gs(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new re((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=gs(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=gs(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return X.resolve(g)}wt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new cS(i,a));let h=this.kr.get(i);h===void 0&&(h=Nt(),this.kr.set(i,h)),this.kr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.qr=new Ce(xe.Qr),this.$r=new Ce(xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const a=new xe(e,i);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Wr(new xe(e,i))}Gr(e,i){e.forEach(a=>this.removeReference(a,i))}zr(e){const i=new ct(new Wt([])),a=new xe(i,e),o=new xe(i,e+1),h=[];return this.$r.forEachInRange([a,o],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new ct(new Wt([])),a=new xe(i,e),o=new xe(i,e+1);let h=Nt();return this.$r.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new xe(e,0),a=this.qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class xe{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return ct.comparator(e.key,i.key)||Rt(e.Hr,i.Hr)}static Ur(e,i){return Rt(e.Hr,i.Hr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ce(xe.Qr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uS(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new xe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Td:this.er-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([a,o],d=>{const g=this.Zr(d.Hr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ce(Rt);return i.forEach(o=>{const h=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],g=>{a=a.add(g.Hr)})}),X.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const d=new xe(new ct(h),0);let g=new Ce(Rt);return this.Yr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Hr)),!0)},d),X.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return X.forEach(i.mutations,o=>{const h=new xe(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,i){const a=new xe(i,0),o=this.Yr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.ni=e,this.docs=function(){return new re(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let a=ki();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=ki();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||SA(AA(A),a)<=0||(o.has(A.key)||Ac(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,a,o){pt(9500)}ri(e,i){return X.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new KS(this)}getSize(e){return X.resolve(this.size)}}class KS extends qS{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),X.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.persistence=e,this.ii=new As(i=>bd(i),Rd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.si=0,this.oi=new Vd,this.targetCount=0,this._i=Ia.ar()}forEachTarget(e,i){return this.ii.forEach((a,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.si&&(this.si=i),X.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Ia(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.hr(i),X.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),X.waitFor(h).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ii.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.oi.Kr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.oi.Gr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.oi.Jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,i){this.ai={},this.overlays={},this.ui=new _c(0),this.ci=!1,this.ci=!0,this.li=new QS,this.referenceDelegate=e(this),this.hi=new ZS(this),this.indexManager=new xS,this.remoteDocumentCache=function(o){return new XS(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new OS(i),this.Ti=new GS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new FS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ai[e.toKey()];return a||(a=new YS(i,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const o=new $S(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ei(e,i){return X.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,i)))}}class $S extends RA{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Ai=new Vd,this.Ri=null}static Vi(e){return new Nd(e)}get mi(){if(this.Ri)return this.Ri;throw pt(60996)}addReference(e,i,a){return this.Ai.addReference(a,i),this.mi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ai.removeReference(a,i),this.mi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.mi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.mi,a=>{const o=ct.fromPath(a);return this.fi(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(a=>{a?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return X.or([()=>X.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class dc{constructor(e,i){this.persistence=e,this.gi=new As(a=>DA(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=kS(this,i)}static Vi(e,i){return new dc(e,i)}Ii(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}yr(e){let i=0;return this.gr(e,a=>{i++}).next(()=>i)}gr(e,i){return X.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(h=>h?X.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),X.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}Sr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Is=a,this.ds=o}static Es(e,i){let a=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Od(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return KT()?8:wA(YT())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new JS;return this.ws(e,i,d).next(g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>h.result)}Ss(e,i,a,o){return a.documentReadCount<this.Vs?(_a()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",va(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(_a()<=Lt.DEBUG&&rt("QueryEngine","Query:",va(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(_a()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",va(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(i))):X.resolve())}ps(e,i){if(i_(i))return X.resolve(null);let a=si(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=sd(i,null,"F"),a=si(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Nt(...h);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.bs(i,g);return this.Ds(i,v,d,_.readTime)?this.ps(e,sd(i,null,"F")):this.vs(e,v,i,_)}))})))}ys(e,i,a,o){return i_(i)||o.isEqual(Et.min())?X.resolve(null):this.gs.getDocuments(e,a).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,a,o)?X.resolve(null):(_a()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),va(i)),this.vs(e,d,i,TA(o,ro)).next(g=>g))})}bs(e,i){let a=new Ce(Uv(e));return i.forEach((o,h)=>{Ac(e,h)&&(a=a.add(h))}),a}Ds(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,a){return _a()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",va(i)),this.gs.getDocumentsMatchingQuery(e,i,Rr.min(),a)}vs(e,i,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="LocalStore",tb=3e8;class eb{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new re(Rt),this.Ms=new As(h=>bd(h),Rd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HS(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function nb(s,e,i,a){return new eb(s,e,i,a)}async function s0(s,e){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Nt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Bs:v,removedBatchIds:d,addedBatchIds:g}))})})}function ib(s,e){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const D=v.batch,N=D.keys();let j=X.resolve();return N.forEach(K=>{j=j.next(()=>A.getEntry(_,K)).next(tt=>{const Z=v.docVersions.get(K);qt(Z!==null,48541),tt.version.compareTo(Z)<0&&(D.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,D))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Nt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function a0(s){const e=Tt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function rb(s,e){const i=Tt(s),a=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((A,D)=>{const N=o.get(D);if(!N)return;g.push(i.hi.removeMatchingKeys(h,A.removedDocuments,D).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,D)));let j=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?j=j.withResumeToken(He.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,a)),o=o.insert(D,j),function(tt,Z,yt){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=tb?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0}(N,j,A)&&g.push(i.hi.updateTargetData(h,j))});let _=ki(),v=Nt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(sb(h,d,e.documentUpdates).next(A=>{_=A.Ls,v=A.ks})),!a.isEqual(Et.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(D=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Fs=o,h))}function sb(s,e,i){let a=Nt(),o=Nt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=ki();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):rt(Md,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Ls:d,ks:o}})}function ab(s,e){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Td),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function lb(s,e){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.hi.getTargetData(a,e).next(h=>h?(o=h,X.resolve(o)):i.hi.allocateTargetId(a).next(d=>(o=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(a.targetId,a),i.Ms.set(e,a.targetId)),a})}async function cd(s,e,i){const a=Tt(s),o=a.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ma(d))throw d;rt(Md,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function p_(s,e,i){const a=Tt(s);let o=Et.min(),h=Nt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const D=Tt(_),N=D.Ms.get(A);return N!==void 0?X.resolve(D.Fs.get(N)):D.hi.getTargetData(v,A)}(a,d,si(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Nt())).next(g=>(ob(a,YA(e),g),{documents:g,qs:h})))}function ob(s,e,i){let a=s.xs.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.xs.set(e,a)}class y_{constructor(){this.activeTargetIds=WA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ub{constructor(){this.Fo=new y_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,a){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new y_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class v_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){rt(__,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){rt(__,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function hd(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",hb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fb{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===oc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,h){const d=hd(),g=this.Go(e,i.toUriEncodedString());rt(jf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(_,o,h);const{host:v}=new URL(g),A=fo(v);return this.jo(e,g,_,a,A).then(D=>(rt(jf,`Received RPC '${e}' ${d}: `,D),D),D=>{throw br(jf,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",a),D})}Jo(e,i,a,o,h,d){return this.Wo(e,i,a,o,h)}zo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Na}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}Go(e,i){const a=hb[e];return`${this.$o}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class mb extends fb{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,a,o,h){const d=hd();return new Promise((g,_)=>{const v=new av;v.setWithCredentials(!0),v.listenOnce(lv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case $u.NO_ERROR:const D=v.getResponseJson();rt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case $u.TIMEOUT:rt(Ye,`RPC '${e}' ${d} timed out`),_(new it(Q.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const N=v.getStatus();if(rt(Ye,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const K=j?.error;if(K&&K.status&&K.message){const tt=function(yt){const lt=yt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(lt)>=0?lt:Q.UNKNOWN}(K.status);_(new it(tt,K.message))}else _(new it(Q.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new it(Q.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{c_:e,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{rt(Ye,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);rt(Ye,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)})}P_(e,i,a){const o=hd(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=cv(),g=uv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.zo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");rt(Ye,`Creating RPC '${e}' stream ${o}: ${A}`,_);const D=d.createWebChannel(A,_);this.T_(D);let N=!1,j=!1;const K=new db({Ho:Z=>{j?rt(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(N||(rt(Ye,`Opening RPC '${e}' stream ${o} transport.`),D.open(),N=!0),rt(Ye,`RPC '${e}' stream ${o} sending:`,Z),D.send(Z))},Yo:()=>D.close()}),tt=(Z,yt,lt)=>{Z.listen(yt,at=>{try{lt(at)}catch(dt){setTimeout(()=>{throw dt},0)}})};return tt(D,Yl.EventType.OPEN,()=>{j||(rt(Ye,`RPC '${e}' stream ${o} transport opened.`),K.s_())}),tt(D,Yl.EventType.CLOSE,()=>{j||(j=!0,rt(Ye,`RPC '${e}' stream ${o} transport closed`),K.__(),this.I_(D))}),tt(D,Yl.EventType.ERROR,Z=>{j||(j=!0,br(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),K.__(new it(Q.UNAVAILABLE,"The operation could not be completed")))}),tt(D,Yl.EventType.MESSAGE,Z=>{var yt;if(!j){const lt=Z.data[0];qt(!!lt,16349);const at=lt,dt=at?.error||((yt=at[0])===null||yt===void 0?void 0:yt.error);if(dt){rt(Ye,`RPC '${e}' stream ${o} received error:`,dt);const gt=dt.status;let Dt=function(C){const O=ve[C];if(O!==void 0)return Yv(O)}(gt),M=dt.message;Dt===void 0&&(Dt=Q.INTERNAL,M="Unknown error status: "+gt+" with message "+dt.message),j=!0,K.__(new it(Dt,M)),D.close()}else rt(Ye,`RPC '${e}' stream ${o} received:`,lt),K.a_(lt)}}),tt(g,ov.STAT_EVENT,Z=>{Z.stat===Jf.PROXY?rt(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===Jf.NOPROXY&&rt(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{K.o_()},0),K}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){return new _S(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=a,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-a);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="PersistentStream";class o0{constructor(e,i,a,o,h,d,g,_){this.Fi=e,this.w_=a,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new l0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===i&&this.W_(a,o)},a=>{e(()=>{const o=new it(Q.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,i){const a=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return rt(E_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(rt(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gb extends o0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=TS(this.serializer,e),a=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ai(d.readTime):Et.min()}(e);return this.listener.J_(i,a)}H_(e){const i={};i.database=ud(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=id(_)?{documents:bS(h,_)}:{query:RS(h,_).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Zv(h,d.resumeToken);const v=ad(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=fc(h,d.snapshotVersion.toTimestamp());const v=ad(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=CS(this.serializer,e);a&&(i.labels=a),this.k_(i)}Y_(e){const i={};i.database=ud(this.serializer),i.removeTarget=e,this.k_(i)}}class pb extends o0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=SS(e.writeResults,e.commitTime),a=ai(e.commitTime);return this.listener.ta(a,i)}na(){const e={};e.database=ud(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>AS(this.serializer,a))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{}class _b extends yb{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,ld(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(Q.UNKNOWN,h.toString())})}Jo(e,i,a,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,ld(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Q.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class vb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Bi(i),this._a=!1):rt("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class Eb{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{bs(this)&&(rt(_s,"Restarting streams for network reachability change."),await async function(_){const v=Tt(_);v.Ia.add(4),await yo(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Cc(v)}(this))})}),this.Aa=new vb(a,o)}}async function Cc(s){if(bs(s))for(const e of s.da)await e(!0)}async function yo(s){for(const e of s.da)await e(!1)}function u0(s,e){const i=Tt(s);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),Pd(i)?Ld(i):Ua(i).x_()&&Ud(i,e))}function xd(s,e){const i=Tt(s),a=Ua(i);i.Ta.delete(e),a.x_()&&c0(i,e),i.Ta.size===0&&(a.x_()?a.B_():bs(i)&&i.Aa.set("Unknown"))}function Ud(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ua(s).H_(e)}function c0(s,e){s.Ra.$e(e),Ua(s).Y_(e)}function Ld(s){s.Ra=new mS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),Ua(s).start(),s.Aa.aa()}function Pd(s){return bs(s)&&!Ua(s).M_()&&s.Ta.size>0}function bs(s){return Tt(s).Ia.size===0}function h0(s){s.Ra=void 0}async function Tb(s){s.Aa.set("Online")}async function Ab(s){s.Ta.forEach((e,i)=>{Ud(s,e)})}async function Sb(s,e){h0(s),Pd(s)?(s.Aa.la(e),Ld(s)):s.Aa.set("Unknown")}async function bb(s,e,i){if(s.Aa.set("Online"),e instanceof Kv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(s,e)}catch(a){rt(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mc(s,a)}else if(e instanceof ec?s.Ra.Ye(e):e instanceof Xv?s.Ra.it(e):s.Ra.et(e),!i.isEqual(Et.min()))try{const a=await a0(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ta.get(v);A&&h.Ta.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ta.get(_);if(!A)return;h.Ta.set(_,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),c0(h,_);const D=new yr(A.target,_,v,A.sequenceNumber);Ud(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){rt(_s,"Failed to raise snapshot:",a),await mc(s,a)}}async function mc(s,e,i){if(!Ma(e))throw e;s.Ia.add(1),await yo(s),s.Aa.set("Offline"),i||(i=()=>a0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(_s,"Retrying IndexedDB access"),await i(),s.Ia.delete(1),await Cc(s)})}function f0(s,e){return e().catch(i=>mc(s,i,e))}async function Dc(s){const e=Tt(s),i=Ir(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Td;for(;Rb(e);)try{const o=await ab(e.localStore,a);if(o===null){e.Pa.length===0&&i.B_();break}a=o.batchId,wb(e,o)}catch(o){await mc(e,o)}d0(e)&&m0(e)}function Rb(s){return bs(s)&&s.Pa.length<10}function wb(s,e){s.Pa.push(e);const i=Ir(s);i.x_()&&i.Z_&&i.X_(e.mutations)}function d0(s){return bs(s)&&!Ir(s).M_()&&s.Pa.length>0}function m0(s){Ir(s).start()}async function Cb(s){Ir(s).na()}async function Db(s){const e=Ir(s);for(const i of s.Pa)e.X_(i.mutations)}async function Ib(s,e,i){const a=s.Pa.shift(),o=Cd.from(a,e,i);await f0(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await Dc(s)}async function Vb(s,e){e&&Ir(s).Z_&&await async function(a,o){if(function(d){return fS(d)&&d!==Q.ABORTED}(o.code)){const h=a.Pa.shift();Ir(a).N_(),await f0(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Dc(a)}}(s,e),d0(s)&&m0(s)}async function T_(s,e){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),rt(_s,"RemoteStore received new credentials");const a=bs(i);i.Ia.add(3),await yo(i),a&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Cc(i)}async function Nb(s,e){const i=Tt(s);e?(i.Ia.delete(2),await Cc(i)):e||(i.Ia.add(2),await yo(i),i.Aa.set("Unknown"))}function Ua(s){return s.Va||(s.Va=function(i,a,o){const h=Tt(i);return h.ia(),new gb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Zo:Tb.bind(null,s),e_:Ab.bind(null,s),n_:Sb.bind(null,s),J_:bb.bind(null,s)}),s.da.push(async e=>{e?(s.Va.N_(),Pd(s)?Ld(s):s.Aa.set("Unknown")):(await s.Va.stop(),h0(s))})),s.Va}function Ir(s){return s.ma||(s.ma=function(i,a,o){const h=Tt(i);return h.ia(),new pb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:Cb.bind(null,s),n_:Vb.bind(null,s),ea:Db.bind(null,s),ta:Ib.bind(null,s)}),s.da.push(async e=>{e?(s.ma.N_(),await Dc(s)):(await s.ma.stop(),s.Pa.length>0&&(rt(_s,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new zd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(s,e){if(Bi("AsyncQueue",`${e}: ${s}`),Ma(s))return new it(Q.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{static emptySet(e){return new Aa(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=Xl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Aa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.fa=new re(ct.comparator)}track(e){const i=e.doc.key,a=this.fa.get(i);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(i,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(i):e.type===1&&a.type===2?this.fa=this.fa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):pt(63341,{At:e,ga:a}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,a)=>{e.push(a)}),e}}class Va{constructor(e,i,a,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Va(e,i,Aa.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Mb{constructor(){this.queries=S_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,a){const o=Tt(i),h=o.queries;o.queries=S_(),h.forEach((d,g)=>{for(const _ of g.wa)_.onError(a)})})(this,new it(Q.ABORTED,"Firestore shutting down"))}}function S_(){return new As(s=>xv(s),Tc)}async function xb(s,e){const i=Tt(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(a=2):(h=new Ob,a=e.ba()?0:1);try{switch(a){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Bd(d,`Initialization of query '${va(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&kd(i)}async function Ub(s,e){const i=Tt(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Lb(s,e){const i=Tt(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(a=!0);d.ya=o}}a&&kd(i)}function Pb(s,e,i){const a=Tt(s),o=a.queries.get(e);if(o)for(const h of o.wa)h.onError(i);a.queries.delete(e)}function kd(s){s.Da.forEach(e=>{e.next()})}var fd,b_;(b_=fd||(fd={})).Fa="default",b_.Cache="cache";class zb{constructor(e,i,a){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Va(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const a=i!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.key=e}}class p0{constructor(e){this.key=e}}class Bb{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Nt(),this.mutatedKeys=Nt(),this.Xa=Uv(e),this.eu=new Aa(this.Xa)}get tu(){return this.Ha}nu(e,i){const a=i?i.ru:new A_,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,D)=>{const N=o.get(A),j=Ac(this.query,D)?D:null,K=!!N&&this.mutatedKeys.has(N.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;N&&j?N.data.isEqual(j.data)?K!==tt&&(a.track({type:3,doc:j}),Z=!0):this.iu(N,j)||(a.track({type:2,doc:j}),Z=!0,(_&&this.Xa(j,_)>0||v&&this.Xa(j,v)<0)&&(g=!0)):!N&&j?(a.track({type:0,doc:j}),Z=!0):N&&!j&&(a.track({type:1,doc:N}),Z=!0,(_||v)&&(g=!0)),Z&&(j?(d=d.add(j),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{eu:d,ru:a,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,D)=>function(j,K){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{At:Z})}};return tt(j)-tt(K)}(A.type,D.type)||this.Xa(A.doc,D.doc)),this.su(a),o=o!=null&&o;const g=i&&!o?this.ou():[],_=this.Za.size===0&&this.current&&!o?1:0,v=_!==this.Ya;return this.Ya=_,d.length!==0||v?{snapshot:new Va(this.query,e.eu,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new A_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Nt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const i=[];return e.forEach(a=>{this.Za.has(a)||i.push(new p0(a))}),this.Za.forEach(a=>{e.has(a)||i.push(new g0(a))}),i}uu(e){this.Ha=e.qs,this.Za=Nt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return Va.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const qd="SyncEngine";class kb{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class qb{constructor(e){this.key=e,this.lu=!1}}class jb{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new As(g=>xv(g),Tc),this.Tu=new Map,this.Iu=new Set,this.du=new re(ct.comparator),this.Eu=new Map,this.Au=new Vd,this.Ru={},this.Vu=new Map,this.mu=Ia.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Hb(s,e,i=!0){const a=A0(s);let o;const h=a.Pu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await y0(a,e,i,!0),o}async function Gb(s,e){const i=A0(s);await y0(i,e,!0,!1)}async function y0(s,e,i,a){const o=await lb(s.localStore,si(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await Fb(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&u0(s.remoteStore,o),g}async function Fb(s,e,i,a,o){s.gu=(D,N,j)=>async function(tt,Z,yt,lt){let at=Z.view.nu(yt);at.Ds&&(at=await p_(tt.localStore,Z.query,!1).then(({documents:M})=>Z.view.nu(M,at)));const dt=lt&&lt.targetChanges.get(Z.targetId),gt=lt&&lt.targetMismatches.get(Z.targetId)!=null,Dt=Z.view.applyChanges(at,tt.isPrimaryClient,dt,gt);return w_(tt,Z.targetId,Dt._u),Dt.snapshot}(s,D,N,j);const h=await p_(s.localStore,e,!0),d=new Bb(e,h.qs),g=d.nu(h.documents),_=po.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(g,s.isPrimaryClient,_);w_(s,i,v._u);const A=new kb(e,i,d);return s.Pu.set(e,A),s.Tu.has(i)?s.Tu.get(i).push(e):s.Tu.set(i,[e]),v.snapshot}async function Qb(s,e,i){const a=Tt(s),o=a.Pu.get(e),h=a.Tu.get(o.targetId);if(h.length>1)return a.Tu.set(o.targetId,h.filter(d=>!Tc(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await cd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&xd(a.remoteStore,o.targetId),dd(a,o.targetId)}).catch(Oa)):(dd(a,o.targetId),await cd(a.localStore,o.targetId,!0))}async function Yb(s,e){const i=Tt(s),a=i.Pu.get(e),o=i.Tu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),xd(i.remoteStore,a.targetId))}async function Xb(s,e,i){const a=eR(s);try{const o=await function(d,g){const _=Tt(d),v=te.now(),A=g.reduce((j,K)=>j.add(K.key),Nt());let D,N;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let K=ki(),tt=Nt();return _.Os.getEntries(j,A).next(Z=>{K=Z,K.forEach((yt,lt)=>{lt.isValidDocument()||(tt=tt.add(yt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,K)).next(Z=>{D=Z;const yt=[];for(const lt of g){const at=lS(lt,D.get(lt.key).overlayedDocument);at!=null&&yt.push(new Ss(lt.key,at,Rv(at.value.mapValue),Pi.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,yt,g)}).next(Z=>{N=Z;const yt=Z.applyToLocalDocumentSet(D,tt);return _.documentOverlayCache.saveOverlays(j,Z.batchId,yt)})}).then(()=>({batchId:N.batchId,changes:Pv(D)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Ru[d.currentUser.toKey()];v||(v=new re(Rt)),v=v.insert(g,_),d.Ru[d.currentUser.toKey()]=v}(a,o.batchId,i),await _o(a,o.changes),await Dc(a.remoteStore)}catch(o){const h=Bd(o,"Failed to persist write");i.reject(h)}}async function _0(s,e){const i=Tt(s);try{const a=await rb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?qt(d.lu,14607):o.removedDocuments.size>0&&(qt(d.lu,42227),d.lu=!1))}),await _o(i,a,e)}catch(a){await Oa(a)}}function R_(s,e,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Pu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=Tt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,D)=>{for(const N of D.wa)N.va(g)&&(v=!0)}),v&&kd(_)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Kb(s,e,i){const a=Tt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Eu.get(e),h=o&&o.key;if(h){let d=new re(ct.comparator);d=d.insert(h,Ke.newNoDocument(h,Et.min()));const g=Nt().add(h),_=new Rc(Et.min(),new Map,new re(Rt),d,g);await _0(a,_),a.du=a.du.remove(h),a.Eu.delete(e),jd(a)}else await cd(a.localStore,e,!1).then(()=>dd(a,e,i)).catch(Oa)}async function Zb(s,e){const i=Tt(s),a=e.batch.batchId;try{const o=await ib(i.localStore,e);E0(i,a,null),v0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await _o(i,o)}catch(o){await Oa(o)}}async function $b(s,e,i){const a=Tt(s);try{const o=await function(d,g){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(D=>(qt(D!==null,37113),A=D.keys(),_.mutationQueue.removeMutationBatch(v,D))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);E0(a,e,i),v0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await _o(a,o)}catch(o){await Oa(o)}}function v0(s,e){(s.Vu.get(e)||[]).forEach(i=>{i.resolve()}),s.Vu.delete(e)}function E0(s,e,i){const a=Tt(s);let o=a.Ru[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function dd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Tu.get(e))s.Pu.delete(a),i&&s.hu.pu(a,i);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach(a=>{s.Au.containsKey(a)||T0(s,a)})}function T0(s,e){s.Iu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(xd(s.remoteStore,i),s.du=s.du.remove(e),s.Eu.delete(i),jd(s))}function w_(s,e,i){for(const a of i)a instanceof g0?(s.Au.addReference(a.key,e),Jb(s,a)):a instanceof p0?(rt(qd,"Document no longer in limbo: "+a.key),s.Au.removeReference(a.key,e),s.Au.containsKey(a.key)||T0(s,a.key)):pt(19791,{yu:a})}function Jb(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Iu.has(a)||(rt(qd,"New document in limbo: "+i),s.Iu.add(a),jd(s))}function jd(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const i=new ct(Wt.fromString(e)),a=s.mu.next();s.Eu.set(a,new qb(i)),s.du=s.du.insert(i,a),u0(s.remoteStore,new yr(si(Ov(i.path)),a,"TargetPurposeLimboResolution",_c.ue))}}async function _o(s,e,i){const a=Tt(s),o=[],h=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((g,_)=>{d.push(a.gu(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const D=v?!v.fromCache:(A=i?.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,D?"current":"not-current")}if(v){o.push(v);const D=Od.Es(_.targetId,v);h.push(D)}}))}),await Promise.all(d),a.hu.J_(o),await async function(_,v){const A=Tt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>X.forEach(v,N=>X.forEach(N.Is,j=>A.persistence.referenceDelegate.addReference(D,N.targetId,j)).next(()=>X.forEach(N.ds,j=>A.persistence.referenceDelegate.removeReference(D,N.targetId,j)))))}catch(D){if(!Ma(D))throw D;rt(Md,"Failed to update sequence numbers: "+D)}for(const D of v){const N=D.targetId;if(!D.fromCache){const j=A.Fs.get(N),K=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion(K);A.Fs=A.Fs.insert(N,tt)}}}(a.localStore,h))}async function Wb(s,e){const i=Tt(s);if(!i.currentUser.isEqual(e)){rt(qd,"User change. New user:",e.toKey());const a=await s0(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(g=>{g.forEach(_=>{_.reject(new it(Q.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await _o(i,a.Bs)}}function tR(s,e){const i=Tt(s),a=i.Eu.get(e);if(a&&a.lu)return Nt().add(a.key);{let o=Nt();const h=i.Tu.get(e);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function A0(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=_0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kb.bind(null,e),e.hu.J_=Lb.bind(null,e.eventManager),e.hu.pu=Pb.bind(null,e.eventManager),e}function eR(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$b.bind(null,e),e}class gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return nb(this.persistence,new WS,e.initialUser,this.serializer)}Du(e){return new r0(Nd.Vi,this.serializer)}bu(e){return new ub}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gc.provider={build:()=>new gc};class nR extends gc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){qt(this.persistence.referenceDelegate instanceof dc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new zS(a,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new r0(a=>dc.Vi(a,i),this.serializer)}}class md{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>R_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wb.bind(null,this.syncEngine),await Nb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Mb}()}createDatastore(e){const i=wc(e.databaseInfo.databaseId),a=function(h){return new mb(h)}(e.databaseInfo);return function(h,d,g,_){return new _b(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new Eb(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>R_(this.syncEngine,i,0),function(){return v_.C()?new v_:new cb}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const D=new jb(o,h,d,g,_,v);return A&&(D.fu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Tt(o);rt(_s,"RemoteStore shutting down."),h.Ia.add(5),await yo(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}md.provider={build:()=>new md};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class rR{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{rt(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(rt(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Bd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Gf(s,e){s.asyncQueue.verifyOperationInProgress(),rt(Vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await s0(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{br("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{rt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{br("Terminating Firestore due to IndexedDb database deletion failed",o)})}),s._offlineComponents=e}async function C_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await sR(s);rt(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>T_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>T_(e.remoteStore,o)),s._onlineComponents=e}async function sR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(Vr,"Using user provided OfflineComponentProvider");try{await Gf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;br("Error using user provided cache. Falling back to memory cache: "+i),await Gf(s,new gc)}}else rt(Vr,"Using default OfflineComponentProvider"),await Gf(s,new nR(void 0));return s._offlineComponents}async function S0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(Vr,"Using user provided OnlineComponentProvider"),await C_(s,s._uninitializedComponentsProvider._online)):(rt(Vr,"Using default OnlineComponentProvider"),await C_(s,new md))),s._onlineComponents}function aR(s){return S0(s).then(e=>e.syncEngine)}async function lR(s){const e=await S0(s),i=e.eventManager;return i.onListen=Hb.bind(null,e.syncEngine),i.onUnlisten=Qb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Gb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Yb.bind(null,e.syncEngine),i}function oR(s,e,i={}){const a=new Ar;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new iR({next:N=>{A.Ou(),d.enqueueAndForget(()=>Ub(h,D)),N.fromCache&&_.source==="server"?v.reject(new it(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),D=new zb(g,A,{includeMetadataChanges:!0,ka:!0});return xb(h,D)}(await lR(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="firestore.googleapis.com",I_=!0;class V_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new it(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R0,this.ssl=I_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:I_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LS)throw new it(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b0((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ic{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new hA;switch(a.type){case"firstParty":return new gA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=D_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),D_.delete(i),a.terminate())}(this),Promise.resolve()}}function uR(s,e,i,a={}){var o;s=ac(s,Ic);const h=fo(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(F_(`https://${_}`),Y_("Firestore",!0)),d.host!==R0&&d.host!==_&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!rc(v,g)&&(s._setSettings(v),a.mockUserToken)){let A,D;if(typeof a.mockUserToken=="string")A=a.mockUserToken,D=Xe.MOCK_USER;else{A=Q_(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new it(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new Xe(N)}s._authCredentials=new fA(new fv(A,D))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class Ue{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(mo(i,Ue._jsonSchema))return new Ue(e,a||null,new ct(Wt.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Te("string",Ue._jsonSchemaVersion),referencePath:Te("string")};class Sr extends Rs{constructor(e,i,a){super(e,i,Ov(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new ct(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function cR(s,e,...i){if(s=ui(s),mv("collection","path",e),s instanceof Ic){const a=Wt.fromString(e,...i);return Hy(a),new Sr(s,null,a)}{if(!(s instanceof Ue||s instanceof Sr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return Hy(a),new Sr(s.firestore,null,a)}}function hR(s,e,...i){if(s=ui(s),arguments.length===1&&(e=Ed.newId()),mv("doc","path",e),s instanceof Ic){const a=Wt.fromString(e,...i);return jy(a),new Ue(s,null,new ct(a))}{if(!(s instanceof Ue||s instanceof Sr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return jy(a),new Ue(s.firestore,s instanceof Sr?s.converter:null,new ct(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="AsyncQueue";class O_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new l0(this,"async_queue_retry"),this.oc=()=>{const a=Hf();a&&rt(N_,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const i=Hf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Hf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Ar;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ma(e))throw e;rt(N_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Bi("INTERNAL UNHANDLED ERROR: ",M_(a)),a}).then(a=>(this.nc=!1,a))));return this._c=i,i}enqueueAfterDelay(e,i,a){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=zd.createAndSchedule(this,e,i,a,h=>this.lc(h));return this.ec.push(o),o}ac(){this.tc&&pt(47125,{hc:M_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function M_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Hd extends Ic{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new O_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function fR(s,e){const i=typeof s=="object"?s:nv(),a=typeof s=="string"?s:oc,o=J_(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=H_("firestore");h&&uR(o,...h)}return o}function w0(s){if(s._terminated)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||dR(s),s._firestoreClient}function dR(s){var e,i,a;const o=s._freezeSettings(),h=function(g,_,v,A){return new NA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,b0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new rR(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g?._online.build();return{_offline:g?._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(He.fromBase64String(e))}catch(i){throw new it(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Nn(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mo(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Te("string",Nn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(mo(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Te("string",li._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mo(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new oi(e.vectorValues);throw new it(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Te("string",oi._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=/^__.*__$/;class gR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,i,this.fieldTransforms):new go(e,this.data,i,this.fieldTransforms)}}function C0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ec:s})}}class Qd{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return pc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(C0(this.Ec)&&mR.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class pR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||wc(e)}Dc(e,i,a,o=!1){return new Qd({Ec:e,methodName:i,bc:a,path:je.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D0(s){const e=s._freezeSettings(),i=wc(s._databaseId);return new pR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function yR(s,e,i,a,o,h={}){const d=s.Dc(h.merge||h.mergeFields?2:0,e,i,o);N0("Data must be an object, but it was:",d,a);const g=I0(a,d);let _,v;if(h.merge)_=new zn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const N=vR(e,D,i);if(!d.contains(N))throw new it(Q.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);TR(A,N)||A.push(N)}_=new zn(A),v=d.fieldTransforms.filter(D=>_.covers(D.field))}else _=null,v=d.fieldTransforms;return new gR(new Vn(g),_,v)}class Yd extends Fd{_toFieldTransform(e){return new iS(e.path,new uo)}isEqual(e){return e instanceof Yd}}function _R(s,e,i,a=!1){return Xd(i,s.Dc(a?4:3,e))}function Xd(s,e){if(V0(s=ui(s)))return N0("Unsupported field value:",e,s),I0(s,e);if(s instanceof Fd)return function(a,o){if(!C0(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let _=Xd(g,o.yc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=ui(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=te.fromDate(a);return{timestampValue:fc(o.serializer,h)}}if(a instanceof te){const h=new te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fc(o.serializer,h)}}if(a instanceof li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Nn)return{bytesValue:Zv(o.serializer,a._byteString)};if(a instanceof Ue){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Id(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof oi)return function(d,g){return{mapValue:{fields:{[Sv]:{stringValue:bv},[uc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return wd(g.serializer,v)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${yc(a)}`)}(s,e)}function I0(s,e){const i={};return yv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(s,(a,o)=>{const h=Xd(o,e.Vc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function V0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof li||s instanceof Nn||s instanceof Ue||s instanceof Fd||s instanceof oi)}function N0(s,e,i){if(!V0(i)||!gv(i)){const a=yc(i);throw a==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+a)}}function vR(s,e,i){if((e=ui(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return O0(s,e);throw pc("Field path arguments must be of type string or ",s,!1,void 0,i)}const ER=new RegExp("[~\\*/\\[\\]]");function O0(s,e,i){if(e.search(ER)>=0)throw pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Gd(...e.split("."))._internalPath}catch{throw pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function pc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new it(Q.INVALID_ARGUMENT,g+s+_)}function TR(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Kd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AR extends M0{data(){return super.data()}}function Kd(s,e){return typeof e=="string"?O0(s,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zd{}class x0 extends Zd{}function bR(s,e,...i){let a=[];e instanceof Zd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Jd).length,g=h.filter(_=>_ instanceof $d).length;if(d>1||d>0&&g>0)throw new it(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class $d extends x0{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new $d(e,i,a)}_apply(e){const i=this._parse(e);return U0(e._query,i),new Rs(e.firestore,e.converter,rd(e._query,i))}_parse(e){const i=D0(e.firestore);return function(h,d,g,_,v,A,D){let N;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){U_(D,A);const K=[];for(const tt of D)K.push(x_(_,h,tt));N={arrayValue:{values:K}}}else N=x_(_,h,D)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||U_(D,A),N=_R(g,d,D,A==="in"||A==="not-in");return Ee.create(v,A,N)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Jd extends Zd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Jd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Bn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)U0(d,_),d=rd(d,_)}(e._query,i),new Rs(e.firestore,e.converter,rd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wd extends x0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Wd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oo(h,d)}(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new xa(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function RR(s,e="asc"){const i=e,a=Kd("orderBy",s);return Wd._create(a,i)}function x_(s,e,i){if(typeof(i=ui(i))=="string"){if(i==="")throw new it(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mv(e)&&i.indexOf("/")!==-1)throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Wt.fromString(i));if(!ct.isDocumentKey(a))throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return $y(s,new ct(a))}if(i instanceof Ue)return $y(s,i._key);throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yc(i)}.`)}function U_(s,e){if(!Array.isArray(s)||s.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U0(s,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class wR{convertValue(e,i="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ts(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[uc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>me(d.doubleValue));return new oi(h)}convertGeoPoint(e){return new li(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ec(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(so(e));default:return null}}convertTimestamp(e){const i=wr(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Wt.fromString(e);qt(n0(a),9688,{name:e});const o=new ao(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return o.isEqual(i)||Bi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Xu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends M0{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Kd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:Te("string",Sa._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class nc extends Sa{data(e={}){return super.data(e)}}class ba{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Xu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new nc(this._firestore,this._userDataWriter,a.key,a,new Xu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:DR(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:Te("string",ba._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class IR extends wR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function VR(s){s=ac(s,Rs);const e=ac(s.firestore,Hd),i=w0(e),a=new IR(e);return SR(s._query),oR(i,s._query).then(o=>new ba(e,a,s,o))}function NR(s,e){const i=ac(s.firestore,Hd),a=hR(s),o=CR(s.converter,e);return OR(i,[yR(D0(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Pi.exists(!1))]).then(()=>a)}function OR(s,e){return function(a,o){const h=new Ar;return a.asyncQueue.enqueueAndForget(async()=>Xb(await aR(a),o,h)),h.promise}(w0(s),e)}function MR(){return new Yd("serverTimestamp")}(function(e,i=!0){(function(o){Na=o})(tv),no(new Ra("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Hd(new dA(a.getProvider("auth-internal")),new pA(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new it(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Er(Py,zy,e),Er(Py,zy,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="firebasestorage.googleapis.com",P0="storageBucket",xR=2*60*1e3,UR=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce extends Es{constructor(e,i,a=0){super(Ff(e),`Firebase Storage: ${i} (${Ff(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ce.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ff(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ue;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ue||(ue={}));function Ff(s){return"storage/"+s}function tm(){const s="An unknown error occurred, please check the error payload for server response.";return new ce(ue.UNKNOWN,s)}function LR(s){return new ce(ue.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function PR(s){return new ce(ue.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zR(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ce(ue.UNAUTHENTICATED,s)}function BR(){return new ce(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kR(s){return new ce(ue.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function qR(){return new ce(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jR(){return new ce(ue.CANCELED,"User canceled the upload/download.")}function HR(s){return new ce(ue.INVALID_URL,"Invalid URL '"+s+"'.")}function GR(s){return new ce(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function FR(){return new ce(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+P0+"' property when initializing the app?")}function QR(){return new ce(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function YR(){return new ce(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XR(s){return new ce(ue.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gd(s){return new ce(ue.INVALID_ARGUMENT,s)}function z0(){return new ce(ue.APP_DELETED,"The Firebase app was deleted.")}function KR(s){return new ce(ue.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eo(s,e){return new ce(ue.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Ql(s){throw new ce(ue.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let a;try{a=gn.makeFromUrl(e,i)}catch{return new gn(e,"")}if(a.path==="")return a;throw GR(e)}static makeFromUrl(e,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function h(dt){dt.path.charAt(dt.path.length-1)==="/"&&(dt.path_=dt.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+o+d,"i"),_={bucket:1,path:3};function v(dt){dt.path_=decodeURIComponent(dt.path)}const A="v[A-Za-z0-9_]+",D=i.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",j=new RegExp(`^https?://${D}/${A}/b/${o}/o${N}`,"i"),K={bucket:1,path:3},tt=i===L0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,Z="([^?#]*)",yt=new RegExp(`^https?://${tt}/${o}/${Z}`,"i"),at=[{regex:g,indices:_,postModify:h},{regex:j,indices:K,postModify:v},{regex:yt,indices:{bucket:1,path:2},postModify:v}];for(let dt=0;dt<at.length;dt++){const gt=at[dt],Dt=gt.regex.exec(e);if(Dt){const M=Dt[gt.indices.bucket];let S=Dt[gt.indices.path];S||(S=""),a=new gn(M,S),gt.postModify(a);break}}if(a==null)throw HR(e);return a}}class ZR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(s,e,i){let a=1,o=null,h=null,d=!1,g=0;function _(){return g===2}let v=!1;function A(...Z){v||(v=!0,e.apply(null,Z))}function D(Z){o=setTimeout(()=>{o=null,s(j,_())},Z)}function N(){h&&clearTimeout(h)}function j(Z,...yt){if(v){N();return}if(Z){N(),A.call(null,Z,...yt);return}if(_()||d){N(),A.call(null,Z,...yt);return}a<64&&(a*=2);let at;g===1?(g=2,at=0):at=(a+Math.random())*1e3,D(at)}let K=!1;function tt(Z){K||(K=!0,N(),!v&&(o!==null?(Z||(g=2),clearTimeout(o),D(0)):Z||(g=1)))}return D(0),h=setTimeout(()=>{d=!0,tt(!0)},i),tt}function JR(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(s){return s!==void 0}function t2(s){return typeof s=="object"&&!Array.isArray(s)}function em(s){return typeof s=="string"||s instanceof String}function L_(s){return nm()&&s instanceof Blob}function nm(){return typeof Blob<"u"}function P_(s,e,i,a){if(a<e)throw gd(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>i)throw gd(`Invalid value for '${s}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(s,e,i){let a=e;return i==null&&(a=`https://${e}`),`${i}://${a}/v0${s}`}function B0(s){const e=encodeURIComponent;let i="?";for(const a in s)if(s.hasOwnProperty(a)){const o=e(a)+"="+e(s[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var ps;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(ps||(ps={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(s,e){const i=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,h=e.indexOf(s)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,i,a,o,h,d,g,_,v,A,D,N=!0,j=!1){this.url_=e,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=A,this.connectionFactory_=D,this.retry=N,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,tt)=>{this.resolve_=K,this.reject_=tt,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Ku(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=g=>{const _=g.loaded,v=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,v)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const g=h.getErrorCode()===ps.NO_ERROR,_=h.getStatus();if(!g||e2(_,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===ps.ABORT;a(!1,new Ku(!1,null,A));return}const v=this.successCodes_.indexOf(_)!==-1;a(!0,new Ku(v,h))})},i=(a,o)=>{const h=this.resolve_,d=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());WR(_)?h(_):h()}catch(_){d(_)}else if(g!==null){const _=tm();_.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,_)):d(_)}else if(o.canceled){const _=this.appDelete_?z0():jR();d(_)}else{const _=qR();d(_)}};this.canceled_?i(!1,new Ku(!1,null,!0)):this.backoffId_=$R(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ku{constructor(e,i,a){this.wasSuccessCode=e,this.connection=i,this.canceled=!!a}}function i2(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function r2(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s2(s,e){e&&(s["X-Firebase-GMPID"]=e)}function a2(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function l2(s,e,i,a,o,h,d=!0,g=!1){const _=B0(s.urlParams),v=s.url+_,A=Object.assign({},s.headers);return s2(A,e),i2(A,i),r2(A,h),a2(A,a),new n2(v,s.method,A,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function u2(...s){const e=o2();if(e!==void 0){const i=new e;for(let a=0;a<s.length;a++)i.append(s[a]);return i.getBlob()}else{if(nm())return new Blob(s);throw new ce(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function c2(s,e,i){return s.webkitSlice?s.webkitSlice(e,i):s.mozSlice?s.mozSlice(e,i):s.slice?s.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(s){if(typeof atob>"u")throw XR("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qf{constructor(e,i){this.data=e,this.contentType=i||null}}function f2(s,e){switch(s){case ri.RAW:return new Qf(k0(e));case ri.BASE64:case ri.BASE64URL:return new Qf(q0(s,e));case ri.DATA_URL:return new Qf(m2(e),g2(e))}throw tm()}function k0(s){const e=[];for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(i<s.length-1&&(s.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const h=a,d=s.charCodeAt(++i);a=65536|(h&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function d2(s){let e;try{e=decodeURIComponent(s)}catch{throw eo(ri.DATA_URL,"Malformed data URL.")}return k0(e)}function q0(s,e){switch(s){case ri.BASE64:{const o=e.indexOf("-")!==-1,h=e.indexOf("_")!==-1;if(o||h)throw eo(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const o=e.indexOf("+")!==-1,h=e.indexOf("/")!==-1;if(o||h)throw eo(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=h2(e)}catch(o){throw o.message.includes("polyfill")?o:eo(s,"Invalid character found")}const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}class j0{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw eo(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=i[1]||null;a!=null&&(this.base64=p2(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function m2(s){const e=new j0(s);return e.base64?q0(ri.BASE64,e.rest):d2(e.rest)}function g2(s){return new j0(s).contentType}function p2(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,i){let a=0,o="";L_(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(L_(this.data_)){const a=this.data_,o=c2(a,e,i);return o===null?null:new pr(o)}else{const a=new Uint8Array(this.data_.buffer,e,i-e);return new pr(a,!0)}}static getBlob(...e){if(nm()){const i=e.map(a=>a instanceof pr?a.data_:a);return new pr(u2.apply(null,i))}else{const i=e.map(d=>em(d)?f2(ri.RAW,d).data:d.data_);let a=0;i.forEach(d=>{a+=d.byteLength});const o=new Uint8Array(a);let h=0;return i.forEach(d=>{for(let g=0;g<d.length;g++)o[h++]=d[g]}),new pr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(s){let e;try{e=JSON.parse(s)}catch{return null}return t2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function _2(s,e){const i=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?i:s+"/"+i}function G0(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(s,e){return e}class tn{constructor(e,i,a,o){this.server=e,this.local=i||e,this.writable=!!a,this.xform=o||v2}}let Zu=null;function E2(s){return!em(s)||s.length<2?s:G0(s)}function F0(){if(Zu)return Zu;const s=[];s.push(new tn("bucket")),s.push(new tn("generation")),s.push(new tn("metageneration")),s.push(new tn("name","fullPath",!0));function e(h,d){return E2(d)}const i=new tn("name");i.xform=e,s.push(i);function a(h,d){return d!==void 0?Number(d):d}const o=new tn("size");return o.xform=a,s.push(o),s.push(new tn("timeCreated")),s.push(new tn("updated")),s.push(new tn("md5Hash",null,!0)),s.push(new tn("cacheControl",null,!0)),s.push(new tn("contentDisposition",null,!0)),s.push(new tn("contentEncoding",null,!0)),s.push(new tn("contentLanguage",null,!0)),s.push(new tn("contentType",null,!0)),s.push(new tn("metadata","customMetadata",!0)),Zu=s,Zu}function T2(s,e){function i(){const a=s.bucket,o=s.fullPath,h=new gn(a,o);return e._makeStorageReference(h)}Object.defineProperty(s,"ref",{get:i})}function A2(s,e,i){const a={};a.type="file";const o=i.length;for(let h=0;h<o;h++){const d=i[h];a[d.local]=d.xform(a,e[d.server])}return T2(a,s),a}function Q0(s,e,i){const a=H0(e);return a===null?null:A2(s,a,i)}function S2(s,e,i,a){const o=H0(e);if(o===null||!em(o.downloadTokens))return null;const h=o.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(v=>{const A=s.bucket,D=s.fullPath,N="/b/"+d(A)+"/o/"+d(D),j=im(N,i,a),K=B0({alt:"media",token:v});return j+K})[0]}function b2(s,e){const i={},a=e.length;for(let o=0;o<a;o++){const h=e[o];h.writable&&(i[h.server]=s[h.local])}return JSON.stringify(i)}class Y0{constructor(e,i,a,o){this.url=e,this.method=i,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(s){if(!s)throw tm()}function R2(s,e){function i(a,o){const h=Q0(s,o,e);return X0(h!==null),h}return i}function w2(s,e){function i(a,o){const h=Q0(s,o,e);return X0(h!==null),S2(h,o,s.host,s._protocol)}return i}function K0(s){function e(i,a){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=BR():o=zR():i.getStatus()===402?o=PR(s.bucket):i.getStatus()===403?o=kR(s.path):o=a,o.status=i.getStatus(),o.serverResponse=a.serverResponse,o}return e}function C2(s){const e=K0(s);function i(a,o){let h=e(a,o);return a.getStatus()===404&&(h=LR(s.path)),h.serverResponse=o.serverResponse,h}return i}function D2(s,e,i){const a=e.fullServerUrl(),o=im(a,s.host,s._protocol),h="GET",d=s.maxOperationRetryTime,g=new Y0(o,h,w2(s,i),d);return g.errorHandler=C2(e),g}function I2(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function V2(s,e,i){const a=Object.assign({},i);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=I2(null,e)),a}function N2(s,e,i,a,o){const h=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function g(){let at="";for(let dt=0;dt<2;dt++)at=at+Math.random().toString().slice(2);return at}const _=g();d["Content-Type"]="multipart/related; boundary="+_;const v=V2(e,a,o),A=b2(v,i),D="--"+_+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+_+`\r
Content-Type: `+v.contentType+`\r
\r
`,N=`\r
--`+_+"--",j=pr.getBlob(D,a,N);if(j===null)throw QR();const K={name:v.fullPath},tt=im(h,s.host,s._protocol),Z="POST",yt=s.maxUploadRetryTime,lt=new Y0(tt,Z,R2(s,i),yt);return lt.urlParams=K,lt.headers=d,lt.body=j.uploadData(),lt.errorHandler=K0(e),lt}class O2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ps.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ps.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ps.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,a,o,h){if(this.sent_)throw Ql("cannot .send() more than once");if(fo(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),h!==void 0)for(const d in h)h.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,h[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class M2 extends O2{initXhr(){this.xhr_.responseType="text"}}function Z0(){return new M2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,i){this._service=e,i instanceof gn?this._location=i:this._location=gn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new vs(e,i)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G0(this._location.path)}get storage(){return this._service}get parent(){const e=y2(this._location.path);if(e===null)return null;const i=new gn(this._location.bucket,e);return new vs(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw KR(e)}}function x2(s,e,i){s._throwIfRoot("uploadBytes");const a=N2(s.storage,s._location,F0(),new pr(e,!0),i);return s.storage.makeRequestWithTokens(a,Z0).then(o=>({metadata:o,ref:s}))}function U2(s){s._throwIfRoot("getDownloadURL");const e=D2(s.storage,s._location,F0());return s.storage.makeRequestWithTokens(e,Z0).then(i=>{if(i===null)throw YR();return i})}function L2(s,e){const i=_2(s._location.path,e),a=new gn(s._location.bucket,i);return new vs(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(s){return/^[A-Za-z]+:\/\//.test(s)}function z2(s,e){return new vs(s,e)}function $0(s,e){if(s instanceof rm){const i=s;if(i._bucket==null)throw FR();const a=new vs(i,i._bucket);return e!=null?$0(a,e):a}else return e!==void 0?L2(s,e):s}function B2(s,e){if(e&&P2(e)){if(s instanceof rm)return z2(s,e);throw gd("To use ref(service, url), the first argument must be a Storage instance.")}else return $0(s,e)}function z_(s,e){const i=e?.[P0];return i==null?null:gn.makeFromBucketSpec(i,s)}function k2(s,e,i,a={}){s.host=`${e}:${i}`;const o=fo(e);o&&(F_(`https://${s.host}/b`),Y_("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:h}=a;h&&(s._overrideAuthToken=typeof h=="string"?h:Q_(h,s.app.options.projectId))}class rm{constructor(e,i,a,o,h,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=L0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xR,this._maxUploadRetryTime=UR,this._requests=new Set,o!=null?this._bucket=gn.makeFromBucketSpec(o,this._host):this._bucket=z_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=z_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(W_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vs(this,e)}_makeRequest(e,i,a,o,h=!0){if(this._deleted)return new ZR(z0());{const d=l2(e,this._appId,a,o,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,a,o).getPromise()}}const B_="@firebase/storage",k_="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="storage";function q2(s,e,i){return s=ui(s),x2(s,e,i)}function j2(s){return s=ui(s),U2(s)}function H2(s,e){return s=ui(s),B2(s,e)}function G2(s=nv(),e){s=ui(s);const a=J_(s,J0).getImmediate({identifier:e}),o=H_("storage");return o&&F2(a,...o),a}function F2(s,e,i,a={}){k2(s,e,i,a)}function Q2(s,{instanceIdentifier:e}){const i=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new rm(i,a,o,e,tv)}function Y2(){no(new Ra(J0,Q2,"PUBLIC").setMultipleInstances(!0)),Er(B_,k_,""),Er(B_,k_,"esm2017")}Y2();const X2={apiKey:"AIzaSyBGb6Yy1UvEtw9rWOcOKSxJMVEXhLNxYbU",authDomain:"prompt-library-74b02.firebaseapp.com",projectId:"prompt-library-74b02",storageBucket:"prompt-library-74b02.firebasestorage.app",messagingSenderId:"942460547467",appId:"1:942460547467:web:8f2ce6ff94269f181dbf8e"},W0=ev(X2),K2=fR(W0),Z2=G2(W0);function $2(){const[s,e]=In.useState([]),[i,a]=In.useState(!1),[o,h]=In.useState(""),[d,g]=In.useState(""),[_,v]=In.useState(null),[A,D]=In.useState("Other"),[N,j]=In.useState("Midjourney"),[K,tt]=In.useState("All"),[Z,yt]=In.useState("All"),[lt,at]=In.useState(null),dt=cR(K2,"prompts");In.useEffect(()=>{(async()=>{const R=bR(dt,RR("createdAt","desc")),Ft=(await VR(R)).docs.map(H=>({id:H.id,...H.data()}));e(Ft),a(!0)})()},[]);const gt=async w=>{const R=H2(Z2,`prompt-images/${Date.now()}-${w.name}`);return await q2(R,w),await j2(R)},Dt=async()=>{if(!d.trim())return;let w=null;_&&(w=await gt(_));const R={text:d,category:A,platform:N,imageUrl:w,createdAt:MR()},se=await NR(dt,R);e(Ft=>[{id:se.id,...R,createdAt:new Date},...Ft]),g(""),v(null),D("Other"),j("Midjourney")},M=w=>{navigator.clipboard.writeText(w),alert("✅ Prompt copied to clipboard!")},S=()=>{h(""),tt("All"),yt("All")},C=s.filter(w=>{const R=w.text.toLowerCase().includes(o.toLowerCase()),se=K==="All"||w.category===K,Ft=Z==="All"||w.platform===Z;return R&&se&&Ft}),O=["Scenery","Emote","Character","Seasonal","Marketing","Wedding","Horror","Food","Nursery","Other"],x=["ChatGPT","Midjourney","Bing"];return At.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center p-6 relative",children:[At.jsx("h1",{className:"text-3xl font-bold mb-4",children:"MidJourney Prompt Library"}),At.jsx("p",{className:"text-gray-300 mb-4",children:"Add your prompt & search instantly (Firebase Connected)"}),At.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-5xl mb-4",children:[At.jsx("input",{type:"text",placeholder:"Search for prompts...",className:"flex-1 p-3 rounded-lg text-black bg-white placeholder-gray-500 focus:ring-2 focus:ring-yellow-400",value:o,onChange:w=>h(w.target.value)}),At.jsxs("select",{className:"p-3 rounded bg-gray-700 text-white focus:ring-2 focus:ring-yellow-400",value:K,onChange:w=>tt(w.target.value),children:[At.jsx("option",{value:"All",children:"All Categories"}),O.map(w=>At.jsx("option",{value:w,children:w},w))]}),At.jsxs("select",{className:"p-3 rounded bg-gray-700 text-white focus:ring-2 focus:ring-yellow-400",value:Z,onChange:w=>yt(w.target.value),children:[At.jsx("option",{value:"All",children:"All Platforms"}),x.map(w=>At.jsx("option",{value:w,children:w},w))]}),At.jsx("button",{className:"p-3 bg-blue-500 hover:bg-blue-600 text-white rounded transition",onClick:S,children:"🔄 Reset Filters"})]}),At.jsxs("div",{className:"w-full max-w-lg bg-gray-800 p-4 rounded-lg mb-6",children:[At.jsx("textarea",{placeholder:"Enter your prompt here...",className:"w-full p-2 rounded bg-gray-700 text-white placeholder-gray-400 focus:ring-2 focus:ring-yellow-400",rows:3,value:d,onChange:w=>g(w.target.value)}),At.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-3",children:[At.jsx("select",{className:"flex-1 p-2 rounded bg-gray-700 text-white",value:A,onChange:w=>D(w.target.value),children:O.map(w=>At.jsx("option",{value:w,children:w},w))}),At.jsx("select",{className:"flex-1 p-2 rounded bg-gray-700 text-white",value:N,onChange:w=>j(w.target.value),children:x.map(w=>At.jsx("option",{value:w,children:w},w))})]}),At.jsxs("label",{className:"block mt-3",children:[At.jsx("span",{className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded cursor-pointer transition",children:"📂 Choose an image"}),At.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:w=>v(w.target.files[0])}),_&&At.jsx("span",{className:"ml-2 text-sm text-gray-300",children:_.name})]}),At.jsx("button",{className:"mt-4 w-full bg-yellow-500 hover:bg-yellow-600 text-black p-2 rounded font-semibold transition",onClick:Dt,children:"➕ Add Prompt"})]}),At.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Prompts"}),i?At.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full max-w-6xl",children:[C.map(w=>At.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg relative",children:[w.imageUrl&&At.jsxs("div",{className:"relative cursor-pointer",children:[At.jsx("img",{src:w.imageUrl,alt:"Prompt preview",className:"w-full h-40 object-cover rounded mb-2 transition-transform duration-300 hover:opacity-80",onClick:()=>at(w.imageUrl)}),At.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-60 text-xs px-2 py-1 rounded",children:"🔍 Click to preview"})]}),At.jsx("p",{className:"text-sm text-gray-200 mb-1",children:w.text}),At.jsxs("div",{className:"text-xs text-gray-400",children:[At.jsxs("span",{className:"mr-2",children:["📂 ",w.category]}),At.jsxs("span",{children:["💻 ",w.platform]})]}),At.jsx("button",{className:"absolute bottom-2 right-2 bg-yellow-500 hover:bg-yellow-600 text-black text-xs px-2 py-1 rounded transition",onClick:()=>M(w.text),children:"📋 Copy"})]},w.id)),C.length===0&&At.jsx("p",{className:"col-span-full text-gray-400 text-center",children:"No prompts found."})]}):At.jsx("p",{className:"text-gray-400",children:"Loading saved prompts..."}),lt&&At.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50",children:At.jsxs("div",{className:"relative",children:[At.jsx("img",{src:lt,alt:"Full Preview",className:"max-h-[90vh] max-w-[90vw] rounded shadow-xl"}),At.jsx("button",{className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-full text-lg",onClick:()=>at(null),children:"✖"})]})})]})}MT.createRoot(document.getElementById("root")).render(At.jsx(In.StrictMode,{children:At.jsx($2,{})}));
